/*! 2022-03-23 14:44:28 aplus_cloud_um.js 1.9.4 */
!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n(2).initGlobal(window),function(){var e=n(4);n(132)(e)}()},function(e,t,n){"use strict";var a,o=n(3),r=o.APLUS,i=o.APLUS_QUEUE,s=o.GOLDLOG,u=o.GOLDLOG_QUEUE,c=!1;try{window&&(a=window,c=!0)}catch(e){a={},c=!1}t.getContext=function(){return a},t.isWeb=function(){return window},t.initGlobal=function(e){a=e?e:{v:1,aplus:{},aplus_queue:[]};var t,n;if(c)try{t=a.aplus||a.goldlog||(a.aplus={});var o=a.goldlog_queue||(a.goldlog_queue=[]);n=a.aplus_queue||(a.aplus_queue=[]),n=o.concat(n)}catch(e){}else t=a.aplus,n=a.aplus_queue;return a.aplus=a.goldlog=t,a.aplus_queue=a.goldlog_queue=n,a};var l=function(e){if(e===r||e===s){var t=a[r]||a[s];return t||(t=a[r]=a[s]={}),t}var n=u,o=i;if(e===o||e===n){var c=a[o]||a[n];return c||(c=a[o]=a[n]=[]),c}};t.getGlobalValue=l,t.setGlobalValue=function(e,t){a[e]=t};var p=function(e){var t;try{var n=l(r);t=n[e]}catch(e){t=""}finally{return t}};t.getGoldlogVal=p;var f=function(e,t){var n=!1;try{var a=l(r);e&&(a[e]=t,n=!0)}catch(e){n=!1}finally{return n}};t.setGoldlogVal=f,t.getClientInfo=function(){return p("_aplus_client")||{}}},function(e,t){var n="aplus",a="goldlog",o=n+"_queue",r=a+"_queue",i="mw_change",s="MetaInfo",u="append"+s,c="set"+s,l="http",p="_pubsub",f="other",d="2101",g="2201",_="2202",h="19999",v="1023",m="1010",y=3e4,b=18e5,w="ekvs",E=1e4,A=1,S=1,T=3e3,P="$$_page_start",I="$$_page_end",C="$$_app_start",x="$$_app_end",M="aplus_user_profile",O="imprint",k="aplus-idtype",N="aplus-jsbridge-only",R="aplus-page-config",L="aplus-skip-apv-rules",U="aplus-rhost-v",D="aplus-rhost-g";e.exports={PAGE_ENTER:"PAGE_ENTER",CURRENT_PAGE_CONFIG:"CURRENT_PAGE_CONFIG",_ANONY_ID:"_anony_id",_USER_ID:"_user_id",DEFAULT_CODE:f,OTHER:h,EVENT_MAP:{2101:"click",2201:"exposure",2202:"exposure",19999:f,1023:"app_show",1010:"app_hide_or_unload"},EVENT_ID_MAP:{EXP:g,IMPEXP:_,CLK:d,OTHER:h,SHOW:v,H_OR_U:m},APLUS:n,GOLDLOG:a,UNSUBSCRIBE:n+"."+n+p+".unsubscribe",SUBSCRIBE:n+"."+n+p+".subscribe",PUBLISH:n+"."+n+p+".publish",CACHE_PUBS:n+"."+n+p+".cachePubs",APLUS_UNIVERSAL:n+"_universal",APLUS_QUEUE:o,GOLDLOG_QUEUE:r,COMPLETE:"complete",PV_CODE:"2001",EXP_CODE:g,CLK_CODE:d,OTHER_CODE:h,CLK:"CLK",EXP:"EXP",SPM_CNT:"spm-cnt",SPM_URL:"spm-url",SPM_PRE:"spm-pre",MW_CHANGE_PV:i+"_pv",MW_CHANGE_HJLJ:i+"_hjlj",HTTP:l+":",HTTPS:"https:",APPEND_META_INFO:u,SET_META_INFO:c,APLUS_APPEND_META_INFO:n+"."+u,APLUS_SET_META_INFO:n+"."+c,PVID:"pvid",APLUS_LOG_PIPE:"aplus-log-pipe",openAPIs:["send","enter","sendPV","record","combineRecord","recordUdata","requestVTConfig","requestRemoteConfig","setPageSPM","setMetaInfo","appendMetaInfo","updatePageProperties","updateNextPageProperties","updatePageUtparam","updateNextPageUtparam","pageAppear","pageDisappear","skipPage","updateSessionProperties","getPageSpmUrl","getPageSpmPre","setPageName","getElementSPM","recordAppLink"],SESSION_INTERVAL:y,SESSION_PAUSE_TIME:"session_pause_time",IMPRINT:"imprint",CURRENT_SESSION:"current_session",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,FAILED_REQUESTS:"failed_requests",REQUESTS:"requests",SHARES:"shares",APLUS_SSRC:"_aplus_ssrc",EKVS:w,EVENT_MAX_COUNT:E,MEMORY_MAX_COUNT:A,MAX_QUEUE_COUNT:S,EVENT_SEND_DEFAULT_INTERVAL:T,PAGE_START:P,PAGE_END:I,APP_START:C,APP_END:x,USER_PROFILE_KEY:M,SHARE_CACHE_INTERVAL:b,IMPRINT:O,ID_TYPE:k,GLOBAL_PROPERTY:"globalproperty",JSBRIDGE_ONLY:N,PAGE_CONFIG:R,APLUS_SKIP_APV_RULES:L,APLUS_PV_DOMAIN:U,APLUS_EKV_DOMAIN:D,APLUS_IMPRINT_VERSION:"APLUS_IMPRINT_VERSION",APLUS_REMOTE_CONFIG:"APLUS_REMOTE_CONFIG",RANK:"ekv_rank",WEB_EVENT_SUFFIX:"/web_logs",WEB_PC_PV_SUFFIX:"v.gif",WEB_WAP_PV_SUFFIX:"m.gif",PAGE_LEAVE:"$$_page_leave",APLUS_AUTOTRACK_ENABLED:"aplus-autotrack-enabled",APLUS_AUTOTRACK_ENABLED_REMOTE:"aplus-autotrack-enabled-remote",APLUS_AUTOTRACK_CONFIG:"aplus-autotrack-config",APLUS_AUTOTRACK_CONFIG_REMOTE:"aplus-autotrack-config-remote",APLUS_DISABLE_AUTOEVENT:"aplus-disable-autoevent",APLUS_DISABLE_AUTOEVENT_REMOTE:"aplus-disable-autoevent",APLUS_DISABLE_AUTOPV:"aplus-disable-apv",APLUS_DISABLE_AUTOPV_REMOTE:"aplus-disable-apv-remote",APLUS_DEVICE_ENABLE:"aplus-device-enable",PERFORMANCE_WARING:"$$_perf_warning",START_ID:"START_ID"}},function(e,t,n){e.exports={metaInfo:{"aplus-ifr-pv":"1","aplus-rhost-v":"","aplus-rhost-g":"","aplus-channel":"",appId:"",sdkId:"aplus_cloud_um","aplus-cpvdata":{},"aplus-exdata":{},"aplus-globaldata":{},"aplus-mmstat-timeout":"10000","aplus-toUT":"","aplus-disable-autoevent":!1,"aplus-disable-apv":!1,"aplus-autotrack-enabled":!1,"aplus-device-enable":!0},globalConfig:{isDecodeUrl:!0,isAli:!1,isUM:!0,APLUS_QUEUE:"aplus_queue",ETAG_STORAGE_KEY:"__ETAG__CNA__ID__",script_name:"aplus.js",lver:"1.9.4",NAME_STORAGE_KEYS:{REFERRER:"wm_referrer",REFERRER_PV_ID:"refer_pv_id",LOST_PV_PAGE_DURATION:"lost_pv_page_duration",LOST_PV_PAGE_SPMAB:"lost_pv_page_spmab",LOST_PV_PAGE:"lost_pv_page",LOST_PV_PAGE_MSG:"lost_pv_page_msg"}},plugins:[{name:"remote_config",path:n(5)},{name:"aplus_track_debug",path:n(26)},{name:"aplus_body_ready",path:n(27)},{name:"pubsub",path:n(28)},{name:"aplus_client",path:n(32)},{name:"aplus_meta_inject",path:n(34)},{name:"aplus_ac",path:n(47)},{name:"aplus_ae",path:n(59)},{name:"name_storage",path:n(67)},{name:"aplus_web_http_um",path:n(70)},{name:"aplus_log_inject",path:n(84),deps:["aplus_meta_inject"],config:{plugins:{pv:[{name:"remote_config",path:n(5)},{name:"when_to_sendpv",path:n(85),config:{aplusWaiting:""}},{name:"where_to_send",path:n(86)},{name:"what_to_send",path:n(88),config:{pvdataToUt:{}}},{name:"what_to_sendpv_userdata",path:n(91),deps:["what_to_send"]},{name:"what_to_sendpv_userdata_web",path:n(93),deps:["what_to_send","what_to_sendpv_userdata"]},{name:"what_to_sendpv_ut2",path:n(96),deps:["what_to_send"]},{name:"what_to_sendpv_um2native",path:n(97),deps:["what_to_send"]},{name:"can_to_sendpv",path:n(98),config:{flag:"NO"}},{name:"after_pv",path:n(101)}],hjlj:[{name:"remote_config",path:n(5)},{name:"where_to_send",path:n(86),deps:[]},{name:"what_to_send",path:n(88),deps:[]},{name:"what_to_hjlj_userdata",path:n(102),deps:["what_to_send"]},{name:"what_to_hjlj_userdata_web",path:n(103),deps:["what_to_send","what_to_hjlj_userdata"]},{name:"what_to_hjlj_ut2",path:n(104),deps:["what_to_send"]},{name:"what_to_hjlj_um2native",path:n(105),deps:["what_to_send"]}]}}},{name:"aplus_api",path:n(106)},{name:"aplus_fingerpint",path:n(114)},{name:"meta_queue",path:n(116)},{name:"aplusUmBridge",path:n(118)},{name:"aplus_queue",path:n(119)},{name:"hot_loader",path:n(120),config:{urlRules:[{rule:"aplus_webvt_messager",cdnPath:["https://d.alicdn.com/alilog/mlog/aplus_webvt_messager.js"]}]}},{name:"aplus_apv",path:n(121),deps:["aplus_log_inject","aplus_api"]},{name:"aplus_autotrack",path:n(123)},{name:"aplus_heatmap",path:n(128),deps:["aplus_log_inject","aplus_api"]},{name:"aplus_pageleave",path:n(130),deps:["aplus_log_inject","aplus_api"]}]}},function(e,t,n){"use strict";var a=n(6),o=n(7),r=n(3),i=n(2),s=n(12),u=n(13),c=n(18),l=n(19),p=n(21),f=n(22);e.exports=function(){return{ABFPC:"_abfpc",VERSION:"2.0",IMPRINT_VERSION:"imprintVersion",APLUS_IMPRINT_VERSION:"APLUS_IMPRINT_VERSION",APLUS_REMOTE_CONFIG:"APLUS_REMOTE_CONFIG",tryGetStoreValue:function(e){var t=a.get(e),n=o.getCookie(e);return{lsValue:t,cookieValue:n}},syncRcfg:function(e,t){var n=aplus.getMetaInfo("aplus-rhost-v"),a=l.loadScript,o=p.getAppKey();n&&a(location.protocol+"//"+n+"/rcfg.js?_abfpc="+e+"&ak="+o,t)},setImprintVersion:function(e){if(this.impv=e,e&&u.getLsImpv(this.APLUS_IMPRINT_VERSION)!==e){u.setLsImpv(this.APLUS_IMPRINT_VERSION,c.getFormatDate(),e);var t=aplus._$.meta_info["aplus-rhost-v"],n=location.protocol+"//"+t+e;this.syncRemoteCfgData(n)}else{var a=u.getLsRemoteCfg(this.APLUS_REMOTE_CONFIG);f.enableCfg(a)}},syncRemoteCfgData:function(e){var t=l.loadScript;t(e,function(e){var t,n;if(e&&"error"===e.type)s().w("quicktracking load remote config failed",e);else{try{t=i.getGoldlogVal("imprint"),n="object"==typeof t?t:JSON.parse(t),u.setLsRemoteCfg(r.APLUS_REMOTE_CONFIG,c.getFormatDate(),n)}catch(e){n=null}f.enableCfg(n)}})},run:function(){var e=this,t=e.tryGetStoreValue(e.ABFPC),n=t.lsValue||t.cookieValue;n&&(n=n.replace("_"+e.VERSION,""));var a=window.aplus_queue||(window.aplus_queue=[]);setTimeout(function(){a.push({action:r.SUBSCRIBE,arguments:["aplusReady",function(t){"complete"===t&&e.syncRcfg(n,function(t){if(t&&"error"===t.type)s().w("加载远程配置信息异常",t);else{var n=i.getGoldlogVal(e.IMPRINT_VERSION);e.setImprintVersion(n)}})}]})},300)}}}},function(e,t){"use strict";e.exports={set:function(e,t){try{return localStorage.setItem(e,t),!0}catch(e){return!1}},get:function(e){try{return localStorage.getItem(e)}catch(e){return""}},test:function(){var e="grey_test_key";try{return localStorage.setItem(e,1),localStorage.removeItem(e),!0}catch(e){return!1}},remove:function(e){localStorage.removeItem(e)}}},function(e,t,n){"use strict";function a(e){if(!document)return"";var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)"));return t?t[1]:""}function o(e){var t=new Date,n="";if("session"===e.expires);else if(e.expires&&("number"==typeof e.expires||e.expires.toUTCString))"number"==typeof e.expires?t.setTime(t.getTime()+24*e.expires*60*60*1e3):t=e.expires,n="expires="+t.toUTCString();else{var a=20;c.indexof(["v.youku.com","www.youku.com","player.youku.com"],location.hostname)>-1&&(a=1),t.setTime(t.getTime()+365*a*24*60*60*1e3),n="expires="+t.toUTCString()}return n}function r(e,t,n){if(document){n||(n={}),t+=";"+(n.expires||o(n)),t+="; path="+(n.path?n.path:"/"),t+="; domain="+n.domain,document.cookie=e+"="+t;var r=0;try{var i=navigator.userAgent.match(/Chrome\/\d+/);i&&i[0]&&(r=i[0].split("/")[1],r&&(r=parseInt(r)))}catch(e){}return n.SameSite&&r>=80&&(t+="; SameSite="+n.SameSite,t+="; Secure",document.cookie=e+"="+t),a(e)}}function i(e,t,n){try{if(!document)return"";if(n||(n={}),n.domain)r(e,t,n);else for(var a=u.getDomains(),o=0;o<a.length;)n.domain=a[o],r(e,t,n)?o=a.length:o++}catch(e){}}var s=n(8),u=n(10),c=n(11);t.getCookie=a,t.trySetCookie=r,t.setCookie=i;var l=["tracknick","thw","cna"];t.getData=function(){var e={};if(s(l,function(t){e[t]=a(t)}),location){var t=location.hostname;e.cnaui=/\btanx\.com$/.test(t)?a("cnaui"):""}return e},t.getHng=function(){return encodeURIComponent(a("hng")||"")},t.getCookieCna=function(e){return a(e)||a("_"+e)},t.setCookieCna=function(e,t,n){for(var a=u.getDomains(),i=0;i<a.length;)if(n.domain=a[i],r(e,t,n))i=a.length;else{if(i===a.length-1){var s=t+";"+o(n);s+="; path=/",document.cookie="_"+e+"="+s}i++}}},function(e,t,n){"use strict";var a=n(9);e.exports=function(e,t){if(a(e)&&void 0===e.length)for(var n in e)e.hasOwnProperty(n)&&t(n,e[n],e);else{var o,r=e.length;for(o=0;o<r;o++){var i=t(e[o],o);if("break"===i)break}}}},function(e,t){e.exports=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t){"use strict";t.getDomains=function(){var e=[];try{for(var t=location.hostname,n=t.split("."),a=2;a<=n.length;)e.push(n.slice(n.length-a).join(".")),a++}catch(e){}return e}},function(e,t){"use strict";function n(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))}function a(e){var t=[];if(n(e))for(var o=0;o<e.length;o++){var r=e[o];n(r)?(e[o]=a(r),t=t.concat(e[o])):t.push(r)}return t}function o(e,t){try{return e.find(t)}catch(o){for(var n=0;n<e.length;n++){var a=t(e[n]);if(a)return e[n]}}}t.indexof=function(e,t){var n=-1;try{n=e.indexOf(t)}catch(o){for(var a=0;a<e.length;a++)e[a]===t&&(n=a)}finally{return n}},t.itemMatch=function(e,t){var n=!1;try{if(!this.isArray(e))return n;n=e.some(function(e){return e&&e.length>0&&t.indexOf(e)!==-1})}catch(o){for(var a=0;a<e.length;a++)if(t.indexOf(e[a])!==-1){n=!0;break}}return n},t.isArray=n,t.flat=a,t.find=o},function(e,t){var n="[APLUS] -- ";e.exports=function(){function e(){this.setDebug=function(e){a=e},this.i=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.info.apply(console,arguments)}catch(e){}},this.e=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.error.apply(console,arguments)}catch(e){}},this.w=function(){if(a)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.warn.apply(console,arguments)}catch(e){}},this.v=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]),console.warn.apply(console,arguments)}catch(e){}},this.tip_w=function(e){try{console.log("%c "+n+e,"background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;")}catch(e){}},this.repeat=function(e){for(var t=e;t.length<86;)t+=e;return t}}var t=null,a=!1;return function(){return null===t&&(t=new e),t}}()},function(e,t,n){"use strict";var a=n(14),o=n(6),r=n(2),i=n(15),s=n(17);e.exports={tryToDecodeURIComponent:function(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(e){}return n},parseSemicolonContent:function(e,t,n){t=t||{};var o,r,i=e.split(";"),s=i.length;for(o=0;o<s;o++){r=i[o].split("=");var u=a.trim(r.slice(1).join("="));t[a.trim(r[0])||""]=n?u:this.tryToDecodeURIComponent(u)}return t},nodeListToArray:function(e){var t,n;try{return t=[].slice.call(e)}catch(o){t=[],n=e.length;for(var a=0;a<n;a++)t.push(e[a]);return t}},getLsCna:function(e,t){if(o.get&&o.test()){var n="",a=o.get(e);if(a){var r=a.split("_")||[];n=t?r.length>1&&t===r[0]?r[1]:"":r.length>1?r[1]:""}return decodeURIComponent(n)}return""},setLsCna:function(e,t,n){n&&o.set&&o.test()&&o.set(e,t+"_"+encodeURIComponent(n))},getLsImpv:function(e,t){if(o.get&&o.test()){var n="",a=o.get(e);if(a){var r=a.split("||")||[];n=t?r.length>1&&t===r[0]?r[1]:"":r.length>1?r[1]:""}return decodeURIComponent(n)}return""},setLsImpv:function(e,t,n){n&&o.set&&o.test()&&o.set(e,t+"||"+encodeURIComponent(n))},setLsRemoteCfg:function(e,t,n){if(n&&o.set&&o.test()){var a=i.cloneDeep(n);"object"==typeof a&&(a=JSON.stringify(a)),o.set(e,t+"||"+encodeURIComponent(a))}},getLsRemoteCfg:function(e,t){if(o.get&&o.test()){var n="",a=o.get(e);if(a){var r=a.split("||")||[];n=t?r.length>1&&t===r[0]?r[1]:"":r.length>1?r[1]:""}return s.parse(decodeURIComponent(n))}return""},getUrl:function(e){var t=r.getGlobalValue("aplus"),a=n(3),o=e||"//log.mmstat.com/eg.js";try{var i=t.getMetaInfo(a.APLUS_PV_DOMAIN),s=/[[a-z|\-|\_|0-9\.]+[a-z|\-|\_|0-9](:\d*)?/,u=i.match(s);u&&u[0]&&(o="//"+u[0]+"/eg.js")}catch(e){}return o}}},function(e,t){"use strict";function n(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""}t.trim=n},function(e,t,n){"use strict";t.assign=n(16),t.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},t.isStartWith=function(e,t){return 0===e.indexOf(t)},t.isEndWith=function(e,t){var n=e.length,a=t.length;return n>=a&&e.indexOf(t)==n-a},t.any=function(e,t){var n,a=e.length;for(n=0;n<a;n++)if(t(e[n]))return!0;return!1},t.isNumber=function(e){return"number"==typeof e},t.isNaN=function(e){return isNaN?isNaN(e):e!==e},t.isContain=function(e,t){return e.indexOf(t)>-1};var a=function(e){var t,n=e.constructor===Array?[]:{};if("object"==typeof e){if(JSON&&JSON.parse)t=JSON.stringify(e),n=JSON.parse(t);else for(var o in e)n[o]="object"==typeof e[o]?a(e[o]):e[o];return n}};t.cloneDeep=a;var o=function(){for(var e,t=/[?&]([^=#]+)=([^&#]*)/g,n=window.location.href,a={};e=t.exec(n);)a[e[1]]=e[2];return a};t.getUrlParams=o;var r=function(e){if(!e)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0};t.isEmptyObject=r},function(e,t){e.exports=function(e,t){return"function"!=typeof Object.assign?function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}(e,t):Object.assign({},e,t)}},function(e,t){t.stringfy=function(e){if(e)try{return JSON.stringify(e)}catch(e){}return""},t.parse=function(e){if(e)try{return JSON.parse(e)}catch(e){}return null},t.parseToArray=function(e){if(e)try{return JSON.parse(e)}catch(e){}return[]}},function(e,t){"use strict";function n(e,t,n){var a=""+Math.abs(e),o=t-a.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+a}t.getFormatDate=function(e){var t=new Date;try{return[t.getFullYear(),n(t.getMonth()+1,2,0),n(t.getDate(),2,0)].join(e||"")}catch(e){return""}}},function(e,t,n){"use strict";function a(){return i||(i=document.getElementById("beacon-aplus")||document.getElementById("tb-beacon-aplus")),i}function o(e){var t=a(),n=s.tryToGetAttribute(t,"cspx");e&&n&&(e.nonce=n)}var r,i,s=n(20),u=n(3);t.getCurrentNode=a,t.addScript=function(e,t,n){var i="script",s=document.createElement(i);s.type="text/javascript",s.async=!0;var c=a(),l=c&&c.hasAttribute("crossorigin");l&&(s.crossOrigin="anonymous");var p=u.HTTPS===location.protocol?t||e:e;0===p.indexOf("//")&&(p=u.HTTPS+p),s.src=p,n&&(s.id=n),o(s);var f=document.getElementsByTagName(i)[0];r=r||document.getElementsByTagName("head")[0],f?f.parentNode.insertBefore(s,f):r&&r.appendChild(s)},t.loadScript=function(e,t){function n(e){a.onreadystatechange=a.onload=a.onerror=null,a=null,t(e)}var a=document.createElement("script");if(r=r||document.getElementsByTagName("head")[0],a.async=!0,"onload"in a)a.onload=n;else{var i=function(){/loaded|complete/.test(a.readyState)&&n()};a.onreadystatechange=i,i()}a.onerror=function(e){n(e)},a.src=e,o(a),r.appendChild(a)},t.isTouch=function(){return"ontouchend"in document.createElement("div")}},function(e,t){"use strict";t.tryToGetAttribute=function(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""};var n=function(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(e){}};t.tryToSetAttribute=n,t.tryToRemoveAttribute=function(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(a){n(e,t,"")}}},function(e,t,n){"use strict";function a(e){var t,n,a,r=[],i=e.length;for(a=0;a<i;a++)t=e[a][0],n=e[a][1],r.push(0===t.indexOf(o)?n:t+"="+encodeURIComponent(n));return r.join("&")}var o="::-plain-::";t.mkPlainKey=function(){return o+Math.random()},t.s_plain_obj=o,t.mkPlainKeyForExparams=function(e){var t=e||o;return t+"exparams"},t.arr2param=a,t.param2arr=function(e){for(var t,n=e.split("&"),a=0,o=n.length,r=[];a<o;a++)t=n[a].split("="),r.push([t.shift(),t.join("=")]);return r},t.arr2obj=function(e){var t,n,a,o={},r=e.length;for(a=0;a<r;a++)t=e[a][0],n=e[a][1],o[t]=n;return o},t.jsonLikeStr2JSON=function(e){if(!e||"string"!=typeof e)return{};for(var t=e.replace(/['"{}]+/g,""),n=t.split(","),a=[],o=0;o<n.length;o++)a.push(n[o].split(":"));var r=this.arr2obj(a);return r},t.can2https=function(e){if(0===e.indexOf("//")){var t="https:";/(\d+\.){3,}\d+/.test(e)&&(t="http:"),e=t+e}return e},t.getAppKey=function(){var e=n(2).getGlobalValue("aplus");return e.getMetaInfo("appkey")||e.getMetaInfo("appId")||e.getMetaInfo("appKey")},t.checkEmptyObj=function(e){return"object"!=typeof e||0===Object.keys(e).length},t.checkDomain=function(e){const t=new RegExp(/^[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:[0-9]{1,5})*$/);if(!e||!e.match(t)){var a=n(12);return a().tip_w(a().repeat("!")),a().tip_w("收数域名配置错误,请检查aplus-rhost-v取值的内容, 正确格式 eg. test-qtracking-xxx.com:端口号可选 "),a().tip_w(a().repeat("!")),!1}return!0},t.checkOpenid=function(e){if(!e){var t=n(12);return t().tip_w(t().repeat("!")),t().tip_w("QT的UV计算依赖小程序的用户唯一标识, 请确保针对用户唯一标识的上报！！"),t().tip_w("配置参考代码: aplus_queue.push({action: 'aplus.setMetaInfo', arguments: ['_anony_id', 待配置取值]});"),t().tip_w("获取小程序唯一标识请参考链接: https://t.tb.cn/1dTHjTTQF0UjOTNHiCkaCS"),t().tip_w(t().repeat("!")),!1}return!0};var r=n(8);t.mapEventSampleRates=function(e){var t=[];return r(e,function(e){e.eventIds&&e.eventIds.length>0&&r(e.eventIds,function(n){t.push({eventId:n,samplingRate:e.samplingRate})})}),t}},function(e,t,n){"use strict";function a(e){var t;return t=l.isWeb()?p.getLsRemoteCfg(d):f().getSync(c.APLUS_REMOTE_CONFIG),t&&t[e]}function o(e){var t=l.getContext();t.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[c.APLUS_DISABLE_AUTOEVENT_REMOTE,e]})}function r(e){var t=l.getContext();t.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[c.APLUS_DEVICE_ENABLE,e]})}function i(e){var t=l.getContext();t.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[c.APLUS_DISABLE_AUTOPV_REMOTE,e]})}function s(e){var t=l.getContext();t.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[c.APLUS_AUTOTRACK_ENABLED_REMOTE,e]})}var u=n(21),c=n(3),l=n(2),p=n(13),f=n(23),d="APLUS_REMOTE_CONFIG";t.getAutoEventStatus=function(){var e=l.getGlobalValue("aplus"),t=e.getMetaInfo(c.APLUS_DISABLE_AUTOEVENT_REMOTE)||a("codelessClickEventStatus");return t},t.getDeviceStatus=function(){var e=l.getGlobalValue("aplus");return a("currentDeviceEnable")||e.getMetaInfo(c.APLUS_DEVICE_ENABLE)},t.getAutoPageStatus=function(){var e=l.getGlobalValue("aplus"),t=e.getMetaInfo(c.APLUS_DISABLE_AUTOPV_REMOTE)||a("codelessCollectorPageStatus");return t},t.getAutoTrackStatus=function(){var e=l.getGlobalValue("aplus"),t=e.getMetaInfo(c.APLUS_AUTOTRACK_ENABLED_REMOTE)||a("codelessStatus");return t},t.enableCfg=function(e){var t=l.getContext();e&&(o(e.codelessClickEventStatus),i(e.codelessCollectorPageStatus),s(e.codelessStatus),r(e.currentDeviceEnable),e.eventSamplingRate&&e.eventSamplingRate.length>0&&t.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[c.APLUS_EVENT_LIMITRATES,u.mapEventSampleRates(e.eventSamplingRate)]}),e.codelessIgnoreComponent&&e.codelessIgnoreComponent.length>0&&t.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[c.APLUS_AUTOTRACK_CONFIG_REMOTE,e.codelessIgnoreComponent]}))}},function(e,t,n){var a=n(24),o=n(25),r=n(17),i=n(12),s=n(21),u=n(3);e.exports=function(){function e(){var e=a.getContext();this.load=function(t){c?(e.removeStorage({key:n}),o(t)&&t()):(n="aplus_cache_"+s.getAppKey()||"",e.getStorage({key:n,success:function(a){c=a&&a.data?r.parse(a.data)||{}:{},l=!0,e.removeStorage({key:n}),o(t)&&t()},fail:function(a){i().w(n+": "+a.errMsg),c={},l=!0,e.removeStorage({key:n}),o(t)&&t()}}))},this.save=function(){c&&e.setStorage({key:n,data:r.stringfy(c)})},this.set=function(e,t){c&&(c[e]=t)},this.get=function(e){return(c||{})[e]},this.remove=function(e){c&&c[e]&&delete c[e]},this.getAll=function(){return c},this.clear=function(){c=null},this.has=function(e){return!!this.get(e)},this.isLoaded=function(){return l},this.getSync=function(e){try{var t=a.getContext(),n=t.getStorageSync(e);return e===u.APLUS_IMPRINT_VERSION?n:"string"==typeof n?r.parse(n):n}catch(e){}},this.setSync=function(e,t){try{var n=a.getContext();"object"==typeof t?n.setStorageSync(e,JSON.stringify(t)):n.setStorageSync(e,t)}catch(e){}}}var t=null,n="",c=null,l=!1;return function(){return t||(t=new e),t}}()},function(e,t,n){"use strict";function a(){if("boolean"==typeof u)return u;var e=!1;try{var t=navigator?navigator.userAgent||navigator.swuserAgent:"";if(e=!!/AliApp/i.test(t),/AliApp\((AP|DingTalk|AMAP|UC|QUARK)/i.test(t)&&(e=!1),/AliApp\(KB/i.test(t)&&(e=!!/Mist/.test(t)),/AlipayIDE Taobao/.test(t)&&(e=!0),e){var n=c().ctx;r(n.canIUse)&&(e=!!n.canIUse("callUserTrack"))}}catch(e){}return u=e,e}function o(){return"boolean"==typeof u?!!u:a()}var r=n(25),i=n(2),s=n(21);t.getCurrentPage=function(){var e=getCurrentPages();return e[e.length-1]||{}},t.getReferrerPage=function(){var e=getCurrentPages();return e[e.length-2]||{}};var u;t.resetIsTB=function(e){u=e},t.initIsTB=a;var c=function(){try{return{ctx:dd,platType:"dd",sdkType:"ddmp",logDomain:"/ddm_logs"}}catch(e){try{return{ctx:my,platType:my&&my.tb?"taobao":"my",sdkType:my&&my.tb?"taobaomp":"mymp",logDomain:"/alipaym_logs"}}catch(e){try{return{ctx:tt,platType:"tt",sdkType:"ttmp",logDomain:"/bytedancem_logs"}}catch(e){try{return{ctx:swan,platType:"bd",sdkType:"bdmp",logDomain:"/baidum_logs"}}catch(e){try{return{ctx:wx,platType:"wx",sdkType:"wxmp",logDomain:"/wxm_logs"}}catch(e){return{ctx:{},platType:"UNKNOW",sdkType:"UNKNOW"}}}}}}};t.isTB=o,t.getPlatformType=function(){return c().platType},t.getSdkType=function(){return c().sdkType},t.getContext=function(){return c().ctx},t.getLogDomain=function(){return c().logDomain};var l="httpRequest",p="request",f=function(){};t.request=function(e,t,n,a){var o=c().ctx;r(a)||(a=f),r(n)||(n=f);var u=t.requestMethodName||p,d=o[u];r(d)||u===p||(u=p,d=o[u]),r(d)||u===l||(u=l,d=o[u]);var g,_=t&&t.dataType?t.dataType:"base64",h=t&&t.timeout?t.timeout:3e3,v=t.method||"GET";e=s.can2https(e);var m;if(r(d)){var y={url:e,method:v,dataType:_,timeout:h,success:function(e){g||(g=!0,n(e))},fail:function(t){console&&console.warn('aplus日志请求"'+e+'"失败，原因：'+JSON.stringify(t)),g||(g=!0,a({failure:!0,data:t}))}};"POST"===v&&"object"==typeof t.data&&(y.url=y.url.split("?")[0],l===u?(y.headers={"Content-Type":"application/json"},y.dataType="json",y.data=JSON.stringify(t.data)):y.data=t.data);var b=i.getGlobalValue("aplus"),w=b.getMetaInfo("aplus-request-extinfo");"object"==typeof w&&(y._extInfo=w),d(y)}else g||(g=!0,a({failure:!0,data:m}));setTimeout(function(){g||(g=!0,m='aplus日志请求"'+e+'超时", 超时时长'+h+"ms",console&&console.warn(m),a({failure:!0,data:m}))},h)}},function(e,t){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t){"use strict";e.exports=function(){return{run:function(){var e=document,t=window.aplus||(window.aplus={});if(!t._aplus_cplugin_track_deb){t._aplus_cplugin_track_deb={status:"init"};var n=window,a=function(){try{var t=n.localStorage,a="aplus_track_debug_id",o=new RegExp("[?|&]"+a+"=(\\w*)"),r=location.href.match(o);if(r&&r.length>0)t.setItem(a,r[1]);else{var i=e.referrer||"",s=i.match(o);if(s&&s.length>0)t.setItem(a,s[1]);else{var u=n.name||"",c=u.match(o);c&&c.length>0&&t.setItem(a,c[1])}}var l=t.getItem(a)||"";if(!(l&&l.length>50))return!1;var p,f=l.split("_");if(f&&f.length>0){p=f[f.length-1].replace(/log/,"");var d=new Date,g=d.getTime(),_=new Date,h=_.getTime();d.setFullYear(parseInt(p.substr(0,4))),d.setMonth(parseInt(p.substr(4,2)-1)),d.setDate(parseInt(p.substr(6,2))),d.setHours(parseInt(p.substr(8,2))),d.setMinutes(parseInt(p.substr(10,2))),d.setSeconds(parseInt(p.substr(12,2))),d.setMilliseconds(0),g=d.getTime(),h=_.getTime();var v=h-g;return v<=36e5&&(l||r[1])}}catch(e){return!1}},o=a();if(o){t._aplus_cplugin_track_deb.status="start";var r={aplus_track_debug_id:o},i=window.aplus_queue||(window.aplus_queue=[]);i.push({action:"aplus.appendMetaInfo",arguments:["aplus-exdata",r]}),i.push({action:"aplus.appendMetaInfo",arguments:["aplus-cpvdata",r]}),t._aplus_cplugin_track_deb.status="complete"}}}}}},function(e,t){"use strict";e.exports=function(){return{run:function(e,t){var n=setInterval(function(){document.getElementsByTagName("body").length&&(clearInterval(n),n=null,t())},50);return setTimeout(function(){n&&clearInterval(n)},1e3),1e3}}}},function(e,t,n){var a=n(29),o=n(2);e.exports=function(){return{run:function(){var e=o.getGlobalValue("aplus");e.aplus_pubsub||(e.aplus_pubsub=a.create())}}}},function(e,t,n){var a=n(30);e.exports=a.extend({subscribeOnce:function(e,t){this.callable(t);var n,a=this;return this.subscribe.call(this,e,n=function(){a.unsubscribe.call(a,e,n);var o=Array.prototype.slice.call(arguments);t.apply(a,o)}),this}})},function(e,t,n){"use strict";var a=n(25),o=n(31),r=function(e){for(var t=e.length,n=new Array(t-1),a=1;a<t;a++)n[a-1]=e[a];return n},i=o.extend({callable:function(e){if(!a(e))throw new TypeError(e+" is not a function");return e},create:function(e){var t=new this;for(var n in e)t[n]=e[n];return t.handlers=[],t.pubs={},t},setHandlers:function(e){this.handlers=e},subscribe:function(e,t){this.callable(t);var n=this,a=n.pubs||{},o=a[e]||[];if(o)for(var r=0;r<o.length;r++){var i=o[r]();t.apply(n,i)}var s=n.handlers||[];return e in s||(s[e]=[]),s[e].push(t),n.setHandlers(s),n},unsubscribe:function(e,t){this.callable(t);try{var n=this.handlers[e];if(!n)return this;if("object"==typeof n&&n.length>0){for(var a=0;a<n.length;a++){var o=t.toString(),r=n[a].toString();o===r&&n.splice(a,1)}this.handlers[e]=n}else delete this.handlers[e]}catch(e){}return this},publish:function(e){var t=r(arguments),n=this.handlers||[],o=n[e]?n[e].length:0;if(o>0)for(var i=0;i<o;i++){var s=n[e][i];a(s)&&s.apply(this,t)}return this},cachePubs:function(e){var t=this.pubs||{},n=r(arguments);t[e]||(t[e]=[]),t[e].push(function(){return n})}});e.exports=i},function(e,t,n){"use strict";function a(){}var o=n(25);a.prototype.extend=function(){},a.prototype.create=function(){},a.extend=function(e){return this.prototype.extend.call(this,e)},a.prototype.create=function(e){var t=new this;for(var n in e)t[n]=e[n];return t},a.prototype.extend=function(e){var t=function(){};try{o(Object.create)||(Object.create=function(e){function t(){}return t.prototype=e,new t}),t.prototype=Object.create(this.prototype);for(var n in e)t.prototype[n]=e[n];t.prototype.constructor=t,t.extend=t.prototype.extend,t.create=t.prototype.create}catch(e){console&&console.log(e)}finally{return t}},e.exports=a},function(e,t,n){"use strict";e.exports=function(){return{run:function(){var e=window.aplus||(window.aplus={});e._aplus_client=n(33)()}}}},function(e,t){"use strict";function n(e){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["Windows NT 6.3","win8.1"],["Windows NT 10.0","win10"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],n=0,a=t.length;n<a;++n){var o=t[n][0];if(e.indexOf(o)!==-1){var r=o.split(" ")[0];return{device_model:r,os:r,os_version:t[n][1]}}}var i="other";return{device_model:i,os:i,os_version:i}}function a(e,t){var n=e.substring(e.indexOf("(")+1,e.indexOf(")")),a={device_model:t},o=t.toLowerCase();switch(o){case"ipad":case"iphone":case"ipod":case"macintosh":"macintosh"===o?/Mac OS X/.test(n)?a.os="Mac OS X":a.os="Mac OS":a.os="IOS",a.os_version=n.match(/[0-9_.]+/)[0];break;case"android":a.os="Android",a.os_version=n.match(/[0-9.]+/)[0]}return a.os_version=a.os_version.replace(/_/g,"."),a}e.exports=function(){var e=navigator.userAgent,t={},o=e.match(/iphone|ipad|android|macintosh/i),r=e.match(/Darwin/i);if(o)t=a(e,o[0]);else if(r){var i=e.split(" ")[2];t={os:"Darwin",os_version:i.match(/[0-9.]+/)[0],device_model:"Darwin"}}else t=n(e);var s=screen||{};return t.screenWidth=s.width,t.screenHeight=s.height,navigator&&(t.userAgent=navigator.userAgent||"-",t.language=navigator.language||navigator.userLanguage||"-"),t}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(35)(this.options.context.aplus_config)}}}},function(e,t,n){"use strict";function a(){var e=document,t="//g.alicdn.com";if(e){var n=e.getElementById("beacon-aplus")||e.getElementById("tb-beacon-aplus"),a=["//assets.alicdn.com/g","//g-assets.daily.taobao.net","//alidt.oss-cn-hangzhou.aliyuncs.com"];if(n)for(var o=0;o<a.length;o++){var r=new RegExp(a[o]);if(r.test(n.src)){t=a[o];break}}}return t}function o(){s||(s=a());var e="//assets.alicdn.com/g"===s||"//laz-g-cdn.alicdn.com"===s;return e||"int"===f.getMetaInfo("aplus-env")}function r(){if(navigator&&navigator.userAgent){var e=/iphone|android/i.test(navigator.userAgent),t=e||/TB\-PD/i.test(navigator.userAgent);return t}return!0}function i(){var e,t=c.getParamFromUrl("utparamcnt",location.href);if(t)try{e=t=JSON.parse(decodeURIComponent(t))}catch(e){}return e}var s,u=n(2),c=n(36),l=n(39),p=n(40),f=n(41);e.exports=function(e){var t=u.getGlobalValue("aplus"),s=e.globalConfig.NAME_STORAGE_KEYS,c=n(46).getRefer(s);t.nameStorage=p.nameStorage,l.haveNativeFlagInUA();var d=t._$=t._$||{};d.is_terminal=r(),d.send_pv_count=0,d.page_referrer=c,d.spm={data:{},page_referrer:c},t.globalConfig=e.globalConfig;var g=i();d.meta_info=f.qGet()||{};for(var _ in e.metaInfo)if(!d.meta_info.hasOwnProperty(_)){var h=e.metaInfo[_];"aplus-utparam"===_?(g&&f.appendMetaInfo(_,g),
f.appendMetaInfo(_,h)):f.setMetaInfo(_,h)}t._$=d,t.isInternational=o,t.getCdnPath=a}},function(e,t,n){"use strict";function a(e,t){if(!e||!t)return"";var n,a="";try{var o=new RegExp(e+"=([^&|#|?|/]+)");if("spm"===e||"scm"===e){var r=new RegExp("\\?.*"+e+"=([\\w\\.\\-\\*/]+)"),i=t.match(o),s=t.match(r),u=i&&2===i.length?i[1]:"",c=s&&2===s.length?s[1]:"";a=u>c?u:c,a=decodeURIComponent(a)}else n=t.match(o),a=n&&2===n.length?n[1]:""}catch(e){}finally{return a}}function o(e,t){var n,a,o,r,i,u=t||location.href,c="&",l=[];return s(e,function(e,t){new RegExp(e+"=").test(u)||l.push(e+"="+t)}),0===l.length?u:(u.indexOf("#")!==-1&&(o=u.split("#"),u=o.shift(),a=o.join("#")),r=u.split("?"),i=r.length-1,o=r[0].split("//"),o=o[o.length-1].split("/"),i>0&&(n=r.pop(),u=r.join("?")),n&&i>1&&n.indexOf("&")==-1&&n.indexOf("%")!==-1&&(c="%26"),u=u+"?"+l.join("&")+(n?c+n:"")+(a?"#"+a:""))}function r(e){var t=location.hash+"";u.pushIntoGoldlogQueue("aplus.on",[window,"hashchange",function(){t!==location.hash&&(t=location.hash+"",e&&"function"==typeof e&&e(t,l))}])}function i(e){function t(t){var a="";if(t){a=t&&t.arguments.length>2&&t.arguments[2];var o=/^http|https/.test(a)?a:location.protocol+"//"+location.host+a;location.href!==o&&e&&"function"==typeof e&&e(a,p)}else a=location.pathname+location.search,a!==n&&setTimeout(function(){e&&"function"==typeof e&&e(a,p)},0);n=a}var n=location.pathname+location.search;if(history.pushState&&window.addEventListener){u.pushIntoGoldlogQueue("aplus.on",[window,"pushState",function(e){t(e)}]),u.pushIntoGoldlogQueue("aplus.on",[window,"popstate",function(){t()}]);var a=c.getMetaCnt("aplus-track-replacestate")||aplus.getMetaInfo("aplus-track-replacestate");a&&u.pushIntoGoldlogQueue("aplus.on",[window,"replaceState",function(e){t(e)}])}}var s=n(8);t.addParamsIntoUrl=o,t.getParamFromUrl=a,t.getSPMFromUrl=function(e){return a("spm",e)},t.getQueryFromUrl=function(){function e(e){const t=decodeURIComponent(e);for(var n=t.indexOf("?")+1,a=t.substring(n),o=Object.create(null),r=a.split("&"),i=0;i<r.length;i++)o[r[i].split("=")[0]]=decodeURIComponent(r[i].split("=")[1]);return o}try{const t=location&&location.hash,a=location&&location.search;if(t&&t.indexOf("?")!==-1)return e(t);if(a&&a.indexOf("?")!==-1)return e(a)}catch(e){var o=n(12);o().w("url error === ",location.href)}};var u=n(37),c=n(38),l="hash",p="history";t.watchHashChange=r,t.watchHistoryChange=i},function(e,t,n){"use strict";var a=n(2);t.pushIntoGoldlogQueue=function(e,t){var n=a.getGlobalValue("aplus_queue"),o=a.getGlobalValue("aplus"),r=e.split("."),i=o[r[1]],s=i?i[r[2]]:null;o&&2===r.length&&i?i.apply(o,t):3===r.length&&s?s.apply(i,t):n.push({action:e,arguments:t})}},function(e,t,n){"use strict";function a(e){return i=i||document.getElementsByTagName("head")[0],s&&!e?s:i?s=i.getElementsByTagName("meta"):[]}function o(e,t){var n,o,r,i=a(),s=i.length;for(n=0;n<s;n++)o=i[n],u.tryToGetAttribute(o,"name")===e&&(r=u.tryToGetAttribute(o,t||"content"));return r||""}function r(e){var t={isonepage:"-1",urlpagename:""},n=e.qGet();if(n&&n.hasOwnProperty("isonepage_data"))t.isonepage=n.isonepage_data.isonepage,t.urlpagename=n.isonepage_data.urlpagename;else{var a=o("isonepage")||"-1",r=a.split("|");t.isonepage=r[0],t.urlpagename=r[1]?r[1]:""}return t}var i,s,u=n(20);t.getMetaTags=a,t.getMetaCnt=o,t.getOnePageInfo=r},function(e,t,n){"use strict";var a=n(2),o="UT4Aplus",r="Umeng4Aplus";t.isNative4Aplus=function(){var e=a.getGlobalValue("aplus"),t=e.getMetaInfo("aplus-toUT"),n=e.aplusBridgeName;return n===o&&t===o||n===r},t.haveNativeFlagInUA=function(){var e=a.getGlobalValue("aplus"),t=e.aplusBridgeName;if(!t&&"boolean"!=typeof t&&navigator&&navigator.userAgent){var n=new RegExp([o,r].join("|"),"i"),i=navigator.userAgent.match(n);t=!!i&&i[0],e.aplusBridgeName=t}return!!t}},function(e,t,n){"use strict";var a=n(2),o=function(){function e(){var e,t=[],n=!0;for(var a in f)f.hasOwnProperty(a)&&(n=!1,e=f[a]||"",t.push(l(a)+u+l(e)));window.name=n?o:r+l(o)+s+t.join(c)}function t(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t)}))}var n=a.getGlobalValue("nameStorage");if(n)return n;var o,r="nameStorage:",i=/^([^=]+)(?:=(.*))?$/,s="?",u="=",c="&",l=encodeURIComponent,p=decodeURIComponent,f={},d={};return function(e){if(e&&0===e.indexOf(r)){var t=e.split(/[:?]/);t.shift(),o=p(t.shift())||"";for(var n,a,s,u=t.join(""),l=u.split(c),d=0,g=l.length;d<g;d++)n=l[d].match(i),n&&n[1]&&(a=p(n[1]),s=p(n[2])||"",f[a]=s)}else o=e||""}(window.name),d.setItem=function(t,n){t&&"undefined"!=typeof n&&(f[t]=String(n),e())},d.getItem=function(e){return f.hasOwnProperty(e)?f[e]:null},d.removeItem=function(t){f.hasOwnProperty(t)&&(f[t]=null,delete f[t],e())},d.clear=function(){f={},e()},d.valueOf=function(){return f},d.toString=function(){var e=window.name;return 0===e.indexOf(r)?e:r+e},t(window,"beforeunload",function(){e()}),d}();t.nameStorage=o},function(e,t,n){"use strict";function a(e){var t,n,a,o=e.length,r={};for(m._microscope_data=r,t=0;t<o;t++)n=e[t],"microscope-data"===_.tryToGetAttribute(n,"name")&&(a=_.tryToGetAttribute(n,"content"),f.parseSemicolonContent(a,r),m.is_head_has_meta_microscope_data=!0);m._microscope_data_params=l.obj2param(r),m.ms_data_page_id=r.pageId,m.ms_data_shop_id=r.shopId,m.ms_data_instance_id=r.siteInstanceId,m.ms_data_siteCategoryId=r.siteCategory,m.ms_prototype_id=r.prototypeId,m.site_instance_id_or_shop_id=m.ms_data_instance_id||m.ms_data_shop_id,m._atp_beacon_data={},m._atp_beacon_data_params=""}function o(e){var t,n=function(){var t;return document.querySelector&&(t=document.querySelector("meta[name=data-spm]")),g(e,function(e){"data-spm"===_.tryToGetAttribute(e,"name")&&(t=e)}),t},a=n();return a&&(t=_.tryToGetAttribute(a,"data-spm-protocol")),t}function r(e){var t=e.isonepage||"-1",n=t.split("|"),a=n[0],o=n[1]?n[1]:"";e.isonepage_data={isonepage:a,urlpagename:o}}function i(){if(document){var e=h.getMetaTags();a(e),g(e,function(e){var t=_.tryToGetAttribute(e,"name");if(/^aplus/.test(t)&&(m[t]=h.getMetaCnt(t),t===y))try{u=m[t]=JSON.parse(h.getMetaCnt(t))}catch(e){}}),g(b,function(e){m[e]=h.getMetaCnt(e)}),m.spm_protocol=o(e),u&&(m=p.assign(m,u));var t,n,i=["aplus-rate-ahot"],s=i.length;for(t=0;t<s;t++)n=i[t],m[n]=parseFloat(m[n]);r(m)}return c=m||{},m}function s(e){d.logger({msg:"please do not repeat setPriorityMetaInfo "+e})}var u,c,l=n(42),p=n(15),f=n(13),d=n(43),g=n(8),_=n(20),h=n(38),v=n(2),m={},y="aplus-x-settings",b=["ahot-aplus","isonepage","spm-id","data-spm","microscope-data"];t.getInfo=i,t.qGet=function(){return c||i()},t.setMetaInfo=function(e,t){if(c||(c={}),"object"==typeof u&&u[e])return s(e),!0;if(e===y){if(u)s(e);else try{u="object"==typeof t?t:JSON.parse(t),c=p.assign(c,u)}catch(e){console&&console.log(e)}return!0}return"aplus-exinfo"===e?c[e]="object"==typeof t?t:l.param2obj(t):c[e]=t,!0};var w=function(e){return c||(c={}),c[e]||""};t.getMetaInfo=w,t.appendMetaInfo=function(e,t){var n=v.getGlobalValue("aplus");if(e&&t){var a,o=function(n){try{var a="string"==typeof t?JSON.parse(t):t;s(e,p.assign(n,a))}catch(e){}},r=function(n){try{var a="string"==typeof t?JSON.parse(t):t;s(e,n.concat(a))}catch(e){}},i=function(e){e.constructor===Array?r(e):o(e)},s=function(e,t){n.setMetaInfo(e,t,{from:"appendMetaInfo"})},u=function(n){var a=l.param2obj(t);s(e,p.assign(n,a))},c=n.getMetaInfo(e);if("aplus-exinfo"===e&&(u(c),a=!0),c)if("object"==typeof c)i(c),a=!0;else try{var f=JSON.parse(c);"object"==typeof f&&(i(f),a=!0)}catch(e){}a||s(e,t)}}},function(e,t){"use strict";function n(e,t){var n,o,r,i=[],s=e.length;for(r=0;r<s;r++){n=e[r][0],o=e[r][1];var u=0===n.indexOf(a),c=u||t?o:encodeURIComponent(o);i.push(u?c:n+"="+c)}return i.join("&")}t.arr2obj=function(e){var t,n,a,o={},r=e.length;for(a=0;a<r;a++)t=e[a][0],n=e[a][1],o[t]=n;return o},t.param2obj=function(e){if("object"==typeof e)return e;var t={};if(!e||"string"!=typeof e)return t;for(var n=e.split("&"),a=0;a<n.length;a++){var o=n[a],r=o.indexOf("="),i=o.split("="),s=o.length;if(2===i.length)t[i[0]]=i[1]||"";else if(r>0){var u=o.slice(0,r),c=o.slice(r+1,s)||"";t[u]=c}else t[i[0]]=""}return t};var a="::-plain-::";t.s_plain_obj=a,t.arr2param=n,t.obj2param=function(e,t){var n,o,r,i=[];for(n in e)n&&e.hasOwnProperty(n)&&("object"==typeof e[n]?(o=""+this.obj2param(e[n]),r=o):(o=""+e[n],r=n+"="+o),t?i.push(r):i.push(0===n.indexOf(a)?o:r));return i.join("&")},t.encodeGokeyValue=function(e){return e}},function(e,t,n){"use strict";var a=n(44),o="[APLUS] -- ";t.logger=function(e){e||(e={});var t=e.level||"warn";console&&console[t]&&console[t](o+e.msg)},t.log=function(){const e=a&&a.getMetaInfo("debug");e&&console.log.apply(console,[o].concat(Array.prototype.slice.apply(arguments)))},t.debugLog=function(e){var t=n(2).getGlobalValue("aplus");t&&t.aplusDebug&&this.logger(e)}},function(e,t,n){"use strict";function a(){return i=f||{},f}function o(){return i||a()}function r(e,t){return i||(i={}),"aplus-inject-record-gokey"===e&&(_("该API将在下个版本下线，请及时处理，如必须使用请联系Aplus SDK官方接口人"),p.record("/inject.record.gokey","OTHER","")),i[e]=t,!0}var i,s=n(45),u=n(42),c=n(2),l=n(3),p=c.getGlobalValue(l.APLUS),f={},d="object",g="string";t.getInfo=a,t.qGet=o,t.setMetaInfo=r;var _=function(e){try{console&&console.error(e)}catch(e){}};t.catchException=_;var h=function(e){return i||(i={}),i[e]||""};t.getMetaInfo=h;var v=function(e){var t=h("aplus-inject-record-gokey");return"function"==typeof t?t(e):e.gokey};t.getUserInjectGokey=v;var m=function(e,t){if(e&&t){var n,a=function(n){try{var a=typeof t===g?JSON.parse(t):t;i(e,Object.assign({},n,a))}catch(e){}},o=function(n){try{var a=typeof t===g?JSON.parse(t):t;i(e,n.concat(a))}catch(e){}},r=function(e){e.constructor===Array?o(e):a(e)},i=function(e,t){y(e,t,{from:"appendMetaInfo"})},s=h(e);if("aplus-exinfo"===e&&(i(e,Object.assign({},s,u.param2obj(t))),n=!0),"aplus-page-properties"===e){var c=t;if(s)for(var l in s)t[l]?c[l]=Object.assign({},s[l],t[l]):c[l]=s[l];i(e,c),n=!0}if(s)if(typeof s===d)r(s),n=!0;else try{var p=JSON.parse(s);typeof p===d&&(r(p),n=!0)}catch(e){}n||i(e,t)}};t.appendMetaInfo=m;var y=function(e,t){var n,a,i="OVERWRITE",u=i;if("object"==typeof e?(n=e.metaName,a=e.metaValue,u=e.mode||i):(n=e,a=t),u!==i)return m(n,a);if(r(n,a)){var l=c.getGoldlogVal("_$")||{};l.meta_info=o();var p=c.setGoldlogVal("_$",l),f=["setMetaInfo",n,a,{}];return s.doPubMsg(f),s.doCachePubs(f),p}};t._setMetaInfo=y},function(e,t,n){"use strict";var a=n(2),o="function",r=function(){var e=a.getGlobalValue("aplus"),t=e.aplus_pubsub||{},n=typeof t.publish===o;return n?t:""};t.doPubMsg=function(e){var t=r();t&&typeof t.publish===o&&t.publish.apply(t,e)},t.doCachePubs=function(e){var t=r();t&&typeof t.cachePubs===o&&t.cachePubs.apply(t,e)},t.doSubMsg=function(e,t){var n=r();n&&typeof n.subscribe===o&&n.subscribe(e,t)}},function(e,t,n){"use strict";var a=n(40).nameStorage;t.getRefer=function(e){return document.referrer||a.getItem(e.REFERRER)||""}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(48)()}}}},function(e,t,n){"use strict";function a(e){var t,n=window.aplus||(window.aplus={}),a=!1,l=function(){a||(o.wrap(function(){t=c.getAutoClkConfig();var e;t&&t.length>0&&(e=u.create({autoClkConfig:t}),e.init(),s.watch_clk()),n.aplus_pubsub.subscribe("setMetaInfo",function(n,a,o){if("aplus-auto-clk"===n){var r=c.getAutoClkConfig(a);if(JSON.stringify(r)===JSON.stringify(t))return;t=r,s.clear(),o||(o={from:"setMetaInfo"}),e&&e.clear(o),e&&e.clearDom({autoClkConfig:t},o),a&&(e?e.reset({autoClkConfig:t},o):(e=u.create({autoClkConfig:t}),e.init()),s.watch_clk())}})},"do_init"),a=!0)};setTimeout(function(){a||i().w("aplus_ac_init failed! please check whether aplusJs is loaded correctly!")},5e3);var p=n._$||{},f=window.g_SPM||{};"complete"===p.status&&f.spm&&l();var d=window.aplus_queue||(window.aplus_queue=[]);d.push({action:r.SUBSCRIBE,arguments:["aplusReady",function(e){"complete"===e&&l("aplusReady")}]}),"function"==typeof e&&e()}var o=n(49),r=n(3),i=n(12),s=n(50),u=n(58),c=n(57);e.exports=function(){var e=window.aplus||(window.aplus={});e._aplus_ac||(e._aplus_ac={status:"init",elementSelectorSizeMap:{}},a(function(){e._aplus_ac.status="complete"}))}},function(e,t,n){"use strict";var a=n(2),o=function(e,t){var n=a.getGlobalValue("aplus_queue",[]);n.push({action:"aplus._aplus_cplugin_track_deb.monitor",arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName="+t+",params="+JSON.stringify(e)],type:"updateMsg",description:t||"aplus_core"}]})},r=function(e,t,n){var o=a.getGlobalValue("aplus_queue",[]);o.push({action:["aplus","_aplus_cplugin_m",t].join("."),arguments:[e,n]})};t.do_tracker_jserror=function(e,t){var n="do_tracker_jserror";r(e,n,t),o(e,n);var i=a.getGlobalValue("aplus");i&&i.aplusDebug&&console&&console.warn(e)},t.wrap=function(e){if("function"==typeof e)try{e()}catch(e){o({msg:e.message||e},"exception")}finally{}}},function(e,t,n){"use strict";var a=n(11),o=n(20),r=n(19),i=n(2),s=n(15),u=n(51),c=n(8),l=n(52),p=n(54),f=n(57),d=window,g=["iframe","html","body","head"],_=f.DATA_APLUS_AC_KEY,h=function(e){var t=[],n=e?o.tryToGetAttribute(e,_):"";if(n){var a=i.getGoldlogVal("_aplus_ac")||{},r=a._acHashMap||{};u(r,function(e,a){c(a,function(e){e.hash_value===n&&t.push(e.clkConfig)})})}return{clkConfigs:t,el:e}},v=function(e){var t=h(e);if(t&&t.clkConfigs&&t.clkConfigs.length>0)return t;for(;(e=e.parentNode)&&a.indexof(g,e.tagName?e.tagName.toLowerCase():"html")===-1;)if(t=h(e),t&&t.clkConfigs&&t.clkConfigs.length>0)return t},m=function(e){e=e||d.event;var t=e.target||e.srcElement,n=v(t)||{},a=n.clkConfigs;n&&a&&n.el&&c(a,function(a){var o=a;t=n.el;var r=aplus.spm_ab?aplus.spm_ab.join("."):"0.0",i=r+".0.0",u="";d.g_SPM&&"function"==typeof d.g_SPM.spm&&(i=d.g_SPM.spm(t));var c=[],l={},g=p.fillPropsData(o,t,l);g=p.fillFilterData(o,t,l),g=p.fillSpmData(o,t,l),g=s.assign(g,p.getDataTrackerParams(t));var _=f.getAutoClkUserFn();if(_){var h=p.autoUserFnHandler(_,t,o.elementSelector,e);if("object"==typeof h)"object"==typeof h.userdata&&(g=s.assign(g,h.userdata)),h.spm&&(i=h.spm),h.scm&&(u=h.scm);else if(h===!1)return}if(aplus.globalConfig.isAli)c.push("clkdata="+JSON.stringify([{exargs:g,scm:u,spm:i,aplusContentId:""}]));else for(var v in g)c.push(v+"="+g[v]);c.push("_is_auto_clk=1");var m=o.method||"POST";aplus.globalConfig.isAli||c.push("is_auto=1"),"$$_APLUS"!==o.logkey&&aplus_queue.push({action:"aplus.record",arguments:[o.logkey,"CLK",c.join("&"),m]})})};t.watch_clk=function(){r.isTouch()?l.on(document,"tap",m):l.on(document,"mousedown",m)},t.clear=function(){r.isTouch()?l.un(document,"tap",m):l.un(document,"mousedown",m)}},function(e,t){"use strict";e.exports=function(e,t){if(Object&&Object.keys)for(var n=Object.keys(e),a=n.length,o=0;o<a;o++){var r=n[o];t(r,e[r])}else for(var i in e)t(i,e[i])}},function(e,t,n){"use strict";function a(){var e=aplus._$||{},t=e.meta_info||{},n=t.aplus_ctap||{};return n&&"function"==typeof n.on?n:null}function o(e,t){var n=a();n?n.on(e,t):s.on(e,t)}function r(e,t){var n=a();n?n.un(e,t):s.un(e,t)}var i=!!document.attachEvent,s=n(53);t.on=function(e,t,n){return"tap"===t?void o(e,n):void(i?e.attachEvent(t,n):e.addEventListener(t,n))},t.un=function(e,t,n){return"tap"===t?void r(e,n):void(i?e.detachEvent(t,n):e.removeEventListener(t,n))}},function(e,t){"use strict";function n(e,t){return e+Math.floor(Math.random()*(t-e+1))}function a(e,t,n){var a=document.createEvent("HTMLEvents");if(a.initEvent(t,!0,!0),"object"==typeof n)for(var o in n)a[o]=n[o];e.dispatchEvent(a)}function o(e){var t=document.documentElement;0===Object.keys(l).length&&(t.addEventListener(d,r,!1),t.addEventListener(f,i,!1),t.addEventListener(_,i,!1));for(var n=0;n<e.changedTouches.length;n++){var a=e.changedTouches[n],o={};for(var s in a)o[s]=a[s];var u={startTouch:o,startTime:Date.now(),status:g,element:e.srcElement||e.target};l[a.identifier]=u}}function r(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],a=l[n.identifier];if(!a)return;var o=n.clientX-a.startTouch.clientX,r=n.clientY-a.startTouch.clientY,i=Math.sqrt(Math.pow(o,2)+Math.pow(r,2));(a.status===g||"pressing"===a.status)&&i>10&&(a.status="panning")}}function i(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],o=n.identifier,s=l[o];s&&(s.status===g&&e.type===f&&(s.timestamp=Date.now(),a(s.element,h,{touch:n,touchEvent:e})),delete l[o])}var u=document.documentElement;0===Object.keys(l).length&&(u.removeEventListener(d,r,!1),u.removeEventListener(f,i,!1),u.removeEventListener(_,i,!1))}function s(e){e.__fixTouchEvent||(e.addEventListener(p,function(){},!1),e.__fixTouchEvent=!0)}function u(){if(!c){var e=document.documentElement;e.addEventListener(p,o,!1),c=!0}}var c=!1,l={},p="touchstart",f="touchend",d="touchmove",g="tapping",_="touchcancel",h="aplus_tap"+n(1,1e5);e.exports={on:function(e,t){u(),e&&e.addEventListener&&t&&(s(e),e.addEventListener(h,t._aplus_tap_callback=function(e){t(e,e.target)},!1))},un:function(e,t){e&&e.removeEventListener&&t&&t._aplus_tap_callback&&e.removeEventListener(h,t._aplus_tap_callback,!1)}}},function(e,t,n){"use strict";function a(e,t,n){var a=t.hash_value,o=i.getGoldlogVal(n)||{};if(o.hash_value||(o.hash_value={}),o.hash_value[e]||(o.hash_value[e]=r.Map?new r.Map:{}),r.Map){var s=o.hash_value[e].get(a);s?++s:s=1,o.hash_value[e].set(a,s)}else o.hash_value[e][a]?++o.hash_value[e][a]:o.hash_value[e][a]=1;i.setGoldlogVal(n,o)}var o=document,r=window,i=n(2),s=n(12),u=n(55),c=n(8),l=n(51),p=n(56),f=n(57),d=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.isArray=d,t.getXPath=function(e){var t,n,a,r,i,s,u=o.getElementsByTagName("*");for(t=[];e&&1==e.nodeType;e=e.parentNode)if(e.id){for(s=e.id,r=0,n=0;n<u.length;n++)if(i=u[n],i.id&&i.id==s){r++;break}if(t.unshift(e.tagName.toLowerCase()+'[@id="'+s+'"]'),1==r)return t.unshift("/"),t.join("/")}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName==e.tagName&&n++;t.unshift(e.tagName.toLowerCase()+"["+n+"]")}return t.length?"/"+t.join("/"):null};var g=function(e,t){if(t&&0!==t.length||(t=[]),e&&e.length>0)for(var n=0;n<e.length;n++)t.push(e[n]);return t};t.nodelistToArray=g,t.getElements=function(e,t){var n=t||o,a=[];if(n.querySelectorAll)a=g(n.querySelectorAll(e.elementSelector)||[]);else for(var r=document.getElementsByTagName(e.tag),i=e.filter.split("="),s=i.length>0?i[0].trim():"",u=i.length>1?i[1].trim():"",c=0;c<r.length;c++){var l=r[c],p=l.getAttribute(s),f=l.hasAttribute(s);!f||u&&u!==p||a.push(l)}return a};var _=function(){return/aplusDebug=true/.test(location.search)},h=_();t.IS_DEBUG=h,t.fillPropsData=function(e,t,n){n||(n={});try{var a=e.props||[];if(a&&d(a)&&a.length>0)for(var o=0;o<a.length;o++)if(t&&t.getAttribute){var r=a[o],i=t.getAttribute(r);if(void 0!==typeof i&&null!==i&&""!==i){var u=r.toLowerCase().replace(/^data-/,"");n[u]=encodeURIComponent(i)}}}catch(e){s().w(e&&e.message)}return n};var v=function(e,t,n){n||(n={});try{var a=e.filter||"",o=a.split("=");if(d(o)&&o[1])n[o[0]]=o[1];else if(o[0]&&t&&t.getAttribute){var r=t.getAttribute(o[0])||"";void 0!==typeof r&&null!==r&&""!==r&&(n[o[0]]=r)}}catch(e){s().w(e&&e.message)}return n};t.fillFilterData=v;var m="data-tracker-params";t.getDataTrackerParams=function(e){var t={};try{var n=v({filter:m},e);n&&n[m]&&(t=JSON.parse(n[m]))}catch(e){}return t},t.fillSpmData=function(e,t,n){n||(n={});var a,o,r;return a=e&&e.spmB?e.spmB:document.body.dataset&&document.body.dataset.pagename,o=e&&e.spmC?e.spmC:t.parentNode&&t.parentNode.dataset&&t.parentNode.dataset.spmc,r=e&&e.spmD?e.spmD:t.dataset&&t.dataset.spmd,t.dataset&&t.dataset.aplusVtPos&&(r+="_"+t.dataset.aplusVtPos),a&&(n.spmB=a),o&&(n.spmC=o),r&&(n.spmD=r),n};var y=function(e){return!!/^POST|GET$/i.test(e)};t.isMethod=y;var b=function(e){var t=!!/^\d+$/.test(e);return!!(t&&parseInt(e)>0)};t.isPkgSize=b,t.filterExpConfigRequestCfg=function(e){var t=f.getDefaultRequestCfg()||{};try{var n=e||{};y(n.method)&&(t.method=n.method),b(n.pkgSize)&&(t.pkgSize=parseInt(n.pkgSize))}catch(e){s().w(e&&e.message)}return t};var w=function(e){var t=e.split("&"),n={};return t.length>0&&c(t,function(e){var t=e.split("=");2===t.length&&(n[t[0]]=p.tryToEncodeURIComponent(t[1]))}),n};t.autoUserFnHandler=function(e,t,n,a){var o={userdata:{},spm:"",scm:""};try{var r=e(t,n,a);r&&("string"==typeof r?o.userdata=w(r):"object"==typeof r&&"object"==typeof r.userdata&&(l(r.userdata,function(e,t){o.userdata[e]=p.tryToEncodeURIComponent(t)}),o.spm=r.spm,o.scm=r.scm))}catch(e){s().w(e)}return o};var E=function(e,t){var n="";if(e&&t){var a=[e.getAttribute(t.filter)],o=t.props||[];if(o)for(var r=0;r<o.length;r++)a.push(e.getAttribute(o[r]));n=a.join("_")}return n},A=function(e){var t=e.getAttribute("data-spm-anchor-id");if(t){var n=t.split(".");return{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4]}}};t.getSpmObj=A,t.getElementHash=function(e,t){var n={};"aplus_webvt"!==e.source&&(n=A(t.ele)||(window.g_SPM?window.g_SPM.getParam(t.ele):{}));var a="",o="x"+t.index;if(n.a&&n.b&&n.c&&n.d){var r=/^i/.test(n.d)?o:n.d;a=n.a+"_"+n.b+"_"+n.c+"_"+r,n.e&&(a+="_"+n.e)}else a=o,aplus.pvid&&(a+=aplus.pvid);t.ignore_attr||(a+=e.logkey+"_",a+=e.elementSelector+"_",a+=E(t.ele,e));var i=o+"_"+u.hash(a);return i},t.filterUnloadAttr=function(e){return e&&(e=e.replace(/(href|style|data-spm-anchor-id)=[\'|\"][\w|\W|\.]+[\'|\"]/,""),e=e.replace(/\s\>/g,">"),e=e.replace(new RegExp(f.DATA_APLUS_AE_KEY+"=[\\'|\\\"]\\w+[\\'|\\\"]"),""),e=e.replace(new RegExp(f.DATA_APLUS_AC_KEY+"=[\\'|\\\"]\\w+[\\'|\\\"]"),"")),e};var S=function(e,t){for(var n,a=0,o=e.length;a<o;){var r=e[a]||{};if(r.hash_value===t.hash_value)return e[a]=t,n=!0,e;a++}return n||e.push(t),e},T=function(e,t,n,o){if(n||(n="ADD"),e&&"object"==typeof t){var r=i.getGoldlogVal(o)||{},s=r._acHashMap||{},u=s[e]||[],c=function(){for(var e=0,n=u.length;e<n;){var a=u[e]||{};if(a.hash_value===t.hash_value)return e;e++}return-1},l=c();"ADD"===n&&l===-1?(u.push(t),a(e,t,o)):"CLEAR"===n&&l>-1?u.splice(l,1):"UPDATE"===n&&(u=S(u,t)),s[e]=u,r._acHashMap=s,i.setGoldlogVal(o,r)}};t.updateExpHashMap=function(e,t,n){T(e,t,n,"_aplus_auto_exp")},t.updateClkHashMap=function(e,t,n){T(e,t,n,"_aplus_ac")};var P=function(){return(new Date).getTime()};t.throttle=function(e,t,n){var a,o,r,i,s=0;n||(n={});var u=function(){s=n.leading===!1?0:P(),a=null,i=e.apply(o,r),a||(o=r=null)},c=function(){var c=P();s||n.leading!==!1||(s=c);var l=t-(c-s);return o=this,r=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),s=c,i=e.apply(o,r),a||(o=r=null)):a||n.trailing===!1||(a=setTimeout(u,l)),i};return c.cancel=function(){clearTimeout(a),s=0,a=o=r=null},c},t.checkIsInHashMap=function(e){var t=i.getGoldlogVal(e.aplusKey)||{},n=t.hash_value||{},a=n[e.logkey]||(r.Map?new r.Map:{}),o=a&&a.get?a.get(e.hash_value):a[e.hash_value];if(o>1)return!0;for(var s=t._acHashMap||{},u=s[e.logkey]||[],c=u.length,l=0;l<c;l++)if(u[l].hash_value===e.hash_value)return!0;return!1},t.setRecordSuccess=function(e,t){try{var n=e?e.element:{},a=e.hash_value||"";n&&n.setAttribute&&n.setAttribute(t,a)}catch(e){}}},function(e,t){"use strict";t.hash=function(e,t){var n,a,o=1315423911,r=t||o;for(n=e.length-1;n>=0;n--)a=e.charCodeAt(n),r^=(r<<5)+a+(r>>2);var i=(2147483647&r).toString(16);return i}},function(e,t){"use strict";t.tryToEncodeURIComponent=function(e){var t=e||"";if(e)try{t=encodeURIComponent(decodeURIComponent(e))}catch(e){}return t}},function(e,t,n){"use strict";function a(e){return aplus&&aplus.getMetaInfo?aplus.getMetaInfo(e):r.getMetaCnt(e)}var o=n(11),r=n(38),i=n(12);t.DATA_APLUS_AE_KEY="data-aplus-ae",t.DATA_APLUS_AC_KEY="data-aplus-clk",t.DATA_APLUS_SPM_ANCHOR_ID_KEY="data-spm-anchor-id",t.DATA_APLUS_VT_ITEM_INDEX_KEY="data-aplus-vt-pos",t.LOOP_TIME=1e3,t.getDefaultRequestCfg=function(){return{method:"POST",pkgSize:10}};var s=function(e){var t=e;try{var n=a("aplus-auto-exp-visible");n&&(t=parseFloat(n)),t<=0&&(t=e)}catch(n){t=e}finally{return t}};t.AUTO_AT_VIEW_RATE=s(.3);var u=function(e){var t=e;try{var n=a("aplus-auto-exp-duration"),o=parseInt(n);o+""!="NaN"&&(t=o)}catch(e){}finally{return t}};t.EXP_DURATION=u(300);var c=function(e,t){var n,r=[],s=[];try{n=t||a(e);var u=[];if(n&&"string"==typeof n)try{u=JSON.parse(n)}catch(e){u=JSON.parse(n.replace(/'/g,'"'))}else"object"==typeof n&&n.constructor===Array&&(u=n);if(u&&u.constructor===Array)for(var c=0;c<u.length;c++){var l=u[c]||{},p=l.logkey||"",f=l.tag?l.tag:"",d=l.filter,g=l.cssSelector,_=g||f&&d;if(!p||!_)throw new Error("meta "+e+" config error, "+JSON.stringify(l));d="string"==typeof d?d.split("="):[];var h=f;if(d.length>=2?h+="["+d.shift()+'="'+decodeURIComponent(d.join(""))+'"]':1==d.length&&d[0]&&(h+="["+decodeURIComponent(d[0])+"]"),g&&(h+=g),l.elementSelector=h,o.indexof(s,h)>-1)throw new Error("meta "+e+" config error, tag_filter_cssSelector "+h+" repeated");s.push(h),r.push(l)}}catch(e){i().w(e)}finally{return r}};t.getAutoExpConfig=function(e){return c("aplus-auto-exp",e)||[]},t.getAutoExpUserFn=function(){var e=a("aplus-auto-exp-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null},t.isThrottleWatchDom=function(){var e=!1;try{e="throttle"===a("aplus-auto-exp-watchdom")}catch(e){}return e},t.getAutoClkConfig=function(e){return c("aplus-auto-clk",e)||[]},t.getAutoClkUserFn=function(){var e=a("aplus-auto-clk-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}},function(e,t,n){"use strict";var a=n(31),o=n(49),r=n(12),i=n(52),s=n(54),u=n(57),c=window,l=document,p=a.extend({eachElements:function(e,t){for(var n=t.logkey||"",a=0;a<e.length;a++){var o=e[a];t._pos_id&&!o.getAttribute("data-aplus-pos-id")&&o.setAttribute("data-aplus-pos-id",t._pos_id);var r=o.getAttribute(u.DATA_APLUS_AC_KEY);if(!(r&&r.indexOf("_")>0)){isNaN(parseInt(r))&&(r=aplus._aplus_ac.elementSelectorSizeMap[t.elementSelector]++,o.setAttribute(u.DATA_APLUS_AC_KEY,r)),!aplus.globalConfig.isAli&&t.spmB&&t.spmC&&t.spmD&&(o.setAttribute(u.DATA_APLUS_SPM_ANCHOR_ID_KEY,[t.spmB,t.spmC,t.spmD+"_"+(a+1)].join(".")),o.setAttribute(u.DATA_APLUS_VT_ITEM_INDEX_KEY,""+(a+1)));var i=s.getElementHash(t,{ignore_attr:!1,index:r,ele:o});if(!s.checkIsInHashMap({logkey:n,hash_value:i,aplusKey:"_aplus_ac"})){var c={clkConfig:t,hash_value:i,element:o,status:0,elementSelector:t.elementSelector};s.updateClkHashMap(n,c,"ADD"),s.setRecordSuccess(c,u.DATA_APLUS_AC_KEY)}}}},handler_dom_change:function(){for(var e=this,t=e.autoClkConfig||[],n=0;n<t.length;n++){var a=t[n];aplus._aplus_ac.elementSelectorSizeMap[a.elementSelector]||(aplus._aplus_ac.elementSelectorSizeMap[a.elementSelector]=1);var o=s.getElements(a,l);e.eachElements(o,a)}},throttle_handler_dom_change:s.throttle(function(){this.handler_dom_change()},200),init_observer:function(e,t){var n=new e(function(){o.wrap(function(){var e=aplus._aplus_ac||{};++e.observer_times,t()},"init_observer_init_elements")}),a={attributes:!0,childList:!0,characterData:!0,subtree:!0};n.observe(l.body,a),s.IS_DEBUG&&r().w("aplus_ac init MutationObserver success!"),this._observer=n},init_watch_dom:function(){var e=this,t=aplus._aplus_ac||{};e._loop_observer=setTimeout(function(){"blur"!==t.current_win_status?(s.IS_DEBUG&&r().w("watch_dom in ac LOOP_TIME is "+u.LOOP_TIME+"ms total: "+ ++t.watch_times),e.throttle_handler_dom_change(),e.init_watch_dom()):t.watch_dom_running=!1},u.LOOP_TIME)},onFocusHandler:function(){var e=this,t=aplus._aplus_ac||{};t.current_win_status="focus",t.watch_dom_running||e.init_watch_dom()},onBlurHandler:function(){var e=aplus._aplus_ac||{};e.current_win_status="blur"},onVisibilityChange:function(){var e=this;"visible"===l.visibilityState?e.onFocusHandler():"hidden"===l.visibilityState&&e.onBlurHandler()},addAllListener:function(){var e=this,t=aplus._aplus_ac||{};t.watch_times=0,t.watch_dom_running=!0,e.init_watch_dom(),c.WindVane&&l.addEventListener&&(i.on(l,"WV.Event.APP.Active",e.onFocusHandler,!1),i.on(l,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in l?i.on(c,"visibilitychange",e.onVisibilityChange):(i.on(c,"blur",e.onBlurHandler),i.on(c,"focus",e.onFocusHandler))},removeAllListener:function(){var e=this;c.WindVane&&l.removeEventListener&&(i.un(l,"WV.Event.APP.Active",e.onFocusHandler,!1),i.un(l,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in l?i.un(c,"visibilitychange",e.onVisibilityChange):(i.un(c,"blur",e.onBlurHandler),i.un(c,"focus",e.onFocusHandler))},init:function(){var e=this,t=aplus._aplus_ac||{};e.throttle_handler_dom_change();var n=c.MutationObserver||c.WebKitMutationObserver||c.MozMutationObserver;n?(t.observer_times=0,e.init_observer(n,function(){e.throttle_handler_dom_change()})):e.addAllListener()},clearDom:function(e,t){var n=this.autoClkConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var a=0;a<n.length;a++)try{for(var o=n[a].elementSelector,r=l.querySelectorAll(o),i=0;i<r.length;i++)r[i].setAttribute(u.DATA_APLUS_AC_KEY,"")}catch(e){}this.autoClkConfig=e&&e.autoClkConfig},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=aplus._aplus_ac||{};t._acHashMap&&(t._acHashMap={}),t.hash_value&&(t.hash_value={}),aplus._aplus_ac=t,this._loop_observer&&(clearTimeout(this._loop_observer),this._loop_observer=null),this._observer?this._observer.disconnect():this.removeAllListener()}},reset:function(e,t){this.clearDom(e,t),this.init()}});e.exports=p},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(60)()}}}},function(e,t,n){"use strict";function a(){r=n(61),i=n(window.IntersectionObserver?63:65),s=n(66),u=n(57)}function o(e){var t,n=window.aplus||(window.aplus={}),a=!1,o=!1,f=function(e){o||(o=e,a||(c.wrap(function(){t=u.getAutoExpConfig()||[],p().w("aplus-auto-exp metaValue init: "+JSON.stringify(t));var e;t&&t.length>0&&(s.watch_data_change(),i.watch_exposure_change(t),e=r.create({isThrottleWatch:u.isThrottleWatchDom(),autoExpConfig:t}),e.init({type:"init"})),n.aplus_pubsub.subscribe("setMetaInfo",function(n,a,o){if("aplus-auto-exp"===n){p().w("aplus-auto-exp metaVaue change: "+JSON.stringify(a));var c=u.getAutoExpConfig(a);if(JSON.stringify(c)===JSON.stringify(t))return;if(t=c,s.clear(),o||(o={from:"setMetaInfo"}),i.clear(t,o),e&&e.clear(o),a&&t&&t.length>0){s.watch_data_change(),i.watch_exposure_change(t);var l={isThrottleWatch:u.isThrottleWatchDom(),autoExpConfig:t};e?e.reset(l,o):(e=r.create(l),e.init({type:"init"}))}}})},"do_init"),a=!0))};setTimeout(function(){a||p().w("aplus_auto_exp_init failed! please check whether aplusJs is loaded correctly!")},5e3);var d=n._$||{},g=window.g_SPM||{};"complete"===d.status&&g.spm&&f();var _=window.aplus_queue||(window.aplus_queue=[]);_.push({action:l.SUBSCRIBE,arguments:["aplusReady",function(e){"complete"===e&&f("aplusReady")}]}),"function"==typeof e&&e()}var r,i,s,u,c=n(49),l=n(3),p=n(12);e.exports=function(){var e=window.aplus||(window.aplus={});e._aplus_auto_exp||(e._aplus_auto_exp={tags:{},status:"init",exp_times:0,elementSelectorSizeMap:{}},a(),o(function(){e._aplus_auto_exp.status="complete"}))}},function(e,t,n){"use strict";var a=n(31),o=n(49),r=n(12),i=n(52),s=n(62),u=n(54),c=n(57),l=window,p=document,f=a.extend({eachElements:function(e,t){for(var n=t.logkey||"",a=0;a<e.length;a++){var o=e[a],r=o.getAttribute(c.DATA_APLUS_AE_KEY);if(!(r&&r.indexOf("_")>0)){isNaN(parseInt(r))&&(r=aplus._aplus_auto_exp.elementSelectorSizeMap[t.elementSelector]++,o.setAttribute(c.DATA_APLUS_AE_KEY,r)),!aplus.globalConfig.isAli&&t.spmB&&t.spmC&&t.spmD&&(o.setAttribute(c.DATA_APLUS_SPM_ANCHOR_ID_KEY,[t.spmB,t.spmC,t.spmD+"_"+(a+1)].join(".")),o.setAttribute(c.DATA_APLUS_VT_ITEM_INDEX_KEY,""+(a+1)));var i=u.getElementHash(t,{ignore_attr:!1,index:r,ele:o}),l=s.checkIsRecord(o,i,c.DATA_APLUS_AE_KEY),p=u.checkIsInHashMap({logkey:n,hash_value:i,aplusKey:"_aplus_auto_exp"});if(!l&&!p){var f={expConfig:t,hash_value:i,element:o,status:0,elementSelector:t.elementSelector};u.updateExpHashMap(n,f,"ADD")}}}},handler_dom_change:function(e,t){try{for(var n=this.autoExpConfig||[],a=0;a<n.length;a++){var o=n[a],i=u.getElements(o,p);aplus._aplus_auto_exp.elementSelectorSizeMap[o.elementSelector]||(aplus._aplus_auto_exp.elementSelectorSizeMap[o.elementSelector]=1),
this.eachElements(i,o)}aplus.aplus_pubsub.publish("APLUS_AE_DOM_CHANGE",t||{})}catch(e){r().w(e&&e.message)}},throttle_handler_dom_change:u.throttle(function(e,t){this.handler_dom_change(e,t)},200),init_watch_dom:function(){var e=this,t=aplus._aplus_auto_exp||{};e._loop_observer=setTimeout(function(){"blur"!==t.current_win_status?(r().w("watch_dom in ae LOOP_TIME is "+c.LOOP_TIME+"ms total: "+ ++t.watch_times),e.handler_dom_change(null,{type:"polling"}),e.init_watch_dom()):t.watch_dom_running=!1},c.LOOP_TIME)},onFocusHandler:function(){var e=this,t=aplus._aplus_auto_exp||{};t.current_win_status="focus",t.watch_dom_running||e.init_watch_dom()},onBlurHandler:function(){var e=aplus._aplus_auto_exp||{};e.current_win_status="blur"},onVisibilityChange:function(){var e=this;"visible"===p.visibilityState?e.onFocusHandler():"hidden"===p.visibilityState&&e.onBlurHandler()},addAllListener:function(){var e=this,t=aplus._aplus_auto_exp||{};t.watch_times=0,t.watch_dom_running=!0,e.init_watch_dom(),l.WindVane&&p.addEventListener&&(i.on(p,"WV.Event.APP.Active",e.onFocusHandler,!1),i.on(p,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in p?i.on(l,"visibilitychange",e.onVisibilityChange):(i.on(l,"blur",e.onBlurHandler),i.on(l,"focus",e.onFocusHandler))},removeAllListener:function(){var e=this;l.WindVane&&p.removeEventListener&&(i.un(p,"WV.Event.APP.Active",e.onFocusHandler,!1),i.un(p,"WV.Event.APP.Background",e.onBlurHandler,!1)),"hidden"in p?i.un(l,"visibilitychange",e.onVisibilityChange):(i.un(l,"blur",e.onBlurHandler),i.un(l,"focus",e.onFocusHandler))},init_observer:function(e,t){var n=["IFRAME","BODY","OBJECT","SCRIPT","NOSCRIPT","LINK","STYLE","#comment"],a=["class","style"],i=function(e){return"characterData"===e.type?[e.target]:"attributes"===e.type&&a.indexOf(e.attributeName)>-1?[e.target]:"childList"!==e.type?[]:void 0},s=function(e,a){if(e&&e.length>0)for(var r=0;r<e.length;r++){var i=e[r]||{},s=i.nodeName,u=aplus._aplus_auto_exp.tags||{};u[s]||(u[s]=0),u[s]++,aplus._aplus_auto_exp.tags=u,n.indexOf(s)===-1&&o.wrap(function(){var e=aplus._aplus_auto_exp||{};++e.observer_times;var n=a.attributeName;t(i,{type:a.type+(n?"_"+n:"")})},"init_observer_init_elements")}};this._observer||(this._observer=new e(function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t]||{},a=u.nodelistToArray(n.addedNodes||[]);a=u.nodelistToArray(i(n),a),s(a,n)}}));var c={attributes:!0,childList:!0,characterData:!0,subtree:!0};this._observer.observe(p.body,c),u.IS_DEBUG&&r().w("aplus_auto_exp init MutationObserver success!")},init:function(e){var t=this,n=aplus._aplus_auto_exp||{};e&&"reset"!==e.type&&!n.hash_value&&(n.hash_value={}),t.handler_dom_change(null,{type:"aplus_init"});var a=l.MutationObserver||l.WebKitMutationObserver||l.MozMutationObserver;a?(n.observer_times=0,t.init_observer(a,function(e,n){var a=e&&e.parentElement?e.parentElement:e;t.throttle_handler_dom_change(a,n)})):t.addAllListener()},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=aplus._aplus_auto_exp||{};t._acHashMap&&(t._acHashMap={}),t.hash_value&&(t.hash_value={}),aplus._aplus_auto_exp=t,this._loop_observer&&(clearTimeout(this._loop_observer),this._loop_observer=null),this._observer?(this._observer.takeRecords(),this._observer.disconnect()):this.removeAllListener()}},clearDom:function(e,t){var n=this.autoExpConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var a=0;a<n.length;a++)try{for(var o=n[a].elementSelector,r=p.querySelectorAll(o),i=0;i<r.length;i++)r[i].setAttribute(c.DATA_APLUS_AE_KEY,"")}catch(e){}this.autoExpConfig=e&&e.autoExpConfig?e.autoExpConfig:[]},reset:function(e,t){this.clearDom(e,t),this.init({type:"reset"})}});e.exports=f},function(e,t){"use strict";var n=document,a=function(e,t){return t.x>=e.pLeftTop[0]&&t.x<=e.pRightBottom[0]&&t.y>=e.pLeftTop[1]&&t.y<=e.pRightBottom[1]},o=function(e,t){var n=0,o=a(e,t),r=a(e,{x:t.x+t.width,y:t.y}),i=a(e,{x:t.x,y:t.y+t.height}),s=a(e,{x:t.x+t.width,y:t.y+t.height}),u=function(){var e=0;return o&&s&&(e=t.size/t.size),e},c=function(){var n=0,a=0;return o&&r&&!i&&!s?(n=t.width,a=e.pLeftBottom[1]-t.y):!o&&r&&!i&&s?(n=e.pLeftTop[0]-t.x,a=t.y):!o&&!r&&i&&s?(n=t.width,a=t.height-Math.abs(e.pLeftTop[1]-t.y)):o&&!r&&i&&!s&&(n=e.pRightTop[0]-t.x,a=t.height),t.size>0?Math.abs(n*a)/t.size:0},l=function(){var n=0,a=0;return!o||r||i||s?o||!r||i||s?o||r||!i||s?o||r||i||!s||(n=e.pLeftTop[0]-t.x,a=e.pLeftTop[1]-t.y):(n=e.pRightTop[0]-t.x,a=e.pRightTop[1]-t.y):(n=e.pLeftBottom[0]-t.x,a=e.pLeftBottom[1]-t.y):(n=e.pRightBottom[0]-t.x,a=e.pRightBottom[1]-t.y),t.size>0?Math.abs(n*a)/t.size:0};return n=u(),n>0?n:(n=c(),n>0?n:(n=l(),n>0?n:n))};t.wrapViewabilityRate=function(e,t,n){var a=0;if(e)for(var r=0;r<e.length;r++)if(a=o(e[r],t),a<n)return!1;return a};var r=function(e){return"number"==typeof e&&NaN!==e},i=function(e){var t={};return e&&("function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()||{}),r(t.x)||r(t.left)&&(t.x=t.left),r(t.y)||r(t.top)&&(t.y=t.top),r(t.width)||(t.width=e.offsetWidth),r(t.height)||(t.height=e.offsetHeight)),t};t.getElementPosition=i,t.getWinPositions=function(e){var t=[];if(e&&"function"==typeof document.querySelector){var a=document.querySelector(e);if(a){var o=i(a)||{};r(o.x)&&r(o.y)&&r(o.width)&&r(o.height)&&t.push({pLeftTop:[o.x,o.y],pRightTop:[o.x+o.width,o.y],pLeftBottom:[o.x,o.y+o.height],pRightBottom:[o.x+o.width,o.y+o.height]})}}var s=n.documentElement,u=n.body,c=s.clientWidth||u.offsetWidth||0,l=s.clientHeight||u.offsetHeight||0;return t.push({pLeftTop:[0,0],pRightTop:[c,0],pLeftBottom:[0,l],pRightBottom:[c,l]}),t},t.checkIsRecord=function(e,t,n){var a;try{if(e&&e.getAttribute){var o=e.getAttribute(n)||"";a=t?o===t:!!o}}catch(e){}return a},t.getViewabilityRateInWindow=function(e,t,n){var a=0;if(e)for(var o=0;o<e.length;o++)if(a=t/e[o].size,a>=n)return a;return a}},function(e,t,n){"use strict";function a(e,t,n){var a=p.getWinPositions(),o=0,r=u.getGoldlogVal("_aplus_auto_exp")||{},i=r._acHashMap||{};for(var c in i)for(var l=i[c]||[],h=0;h<l.length;h++){var v=l[h]||{};v.eventType="IObserver";var m=!!n||v.element===t.target;if(0===v.status&&v.expConfig&&m){var y=t.boundingClientRect||{};if(y.width||y.height||(y=t.target.getBoundingClientRect()||{}),y.width&&y.height){v=s.assign(v,y),v.x=y.x||y.left,v.y=y.y||y.top,v.width=y.width,v.height=y.height,v.size=y.width*y.height;var b=p.checkIsRecord(v.element,v.hash_value,"_aplus_auto_exp"),w=v.width*v.height*t.intersectionRatio,E=p.getViewabilityRateInWindow(a,w,_);if(!b){var A=t.intersectionRatio>=g;if(A||E>=_){v.exposureTime=e,v.status=1;var S=f.getAutoExpUserFn();S&&(v.userParams=d.autoUserFnHandler(S,v.element,v.elementSelector)),v.viewabilityRate=A?t.intersectionRatio:E,v.viewability=A?"intersection":"fillwindow",f.EXP_DURATION||(v.status=2),d.updateExpHashMap(c,v,"UPDATE"),++o}else E&&d.updateExpHashMap(c,s.assign(l[h],{lastEventType:v.eventType}),"UPDATE")}}}}return o}function o(e,t){var n="APLUS_AE_EXPOSURE_CHANGE",o=e&&e.type?e.type:"IObserver",r=(new Date).getTime(),i=0;i=t?l.filterStartExposureSize(r,e):a(r,e),i>0&&(f.EXP_DURATION?setTimeout(function(){i=l.filterEndExposureSize(r,o),i>0&&aplus.aplus_pubsub.publish(n,{size:i,eventType:o})},f.EXP_DURATION):aplus.aplus_pubsub.publish(n,{size:i,eventType:o}))}function r(e){var t={root:null,rootMargin:"0px",threshold:g};return new v(function(e){c(e,function(e){e.intersectionRatio>0&&o(e)})},s.assign(t,e))}function i(e){if(v){m.io_base||(m.io_base=r());var t=u.getGoldlogVal("_aplus_auto_exp")||{},n=t._acHashMap||{};for(var a in n)for(var o=n[a]||[],i=0;i<o.length;i++){var s=o[i]||{};if(!s.inObserver){var c,l="io_v_"+encodeURIComponent(s.positionSelector);s.positionSelector&&!m[l]&&(c=r({root:document.querySelector(s.positionSelector),expConfig:e}),m[l]=c),c?c.observe(s.element):m.io_base.observe(s.element),s.inObserver=!0}}}return!0}var s=n(15),u=n(2),c=n(8),l=n(64),p=n(62),f=n(57),d=n(54),g=f.AUTO_AT_VIEW_RATE,_=f.AUTO_AT_VIEW_RATE_IN_WINDOW,h=window,v=h.IntersectionObserver,m={};aplus._aplus_auto_exp.iobserverMap=m,t.watch_exposure_change=function(e){aplus.aplus_pubsub.subscribe("APLUS_AE_DOM_CHANGE",function(){i(e)}),i(e)},t.clear=function(e,t){if(t&&"appendMetaInfo"!==t.from)for(var n in m){var a=m[n];a.disconnect()}}},function(e,t,n){"use strict";var a,o=n(2),r=n(62),i=n(57),s=n(54),u=i.AUTO_AT_VIEW_RATE,c=i.AUTO_AT_VIEW_RATE_IN_WINDOW,l=function(e){for(var t;e&&"HTML"!==e.tagName;){t=e.style.display;{if("none"===t)break;e=e.parentNode}}return"none"===t};t.filterStartExposureSize=function(e,t){var n=0,a=r.getWinPositions(),p=o.getGoldlogVal("_aplus_auto_exp")||{},f=p._acHashMap||{};for(var d in f)for(var g=f[d]||[],_=0;_<g.length;_++){var h=g[_]||{};if(0===h.status&&h.expConfig&&!l(h.element)){var v=r.getElementPosition(h.element);if(v.width&&v.height){h.x=v.x,h.y=v.y,h.eventType=t,h.width=v.width,h.height=v.height,h.size=v.width*v.height;var m;h.expConfig.positionSelector&&(m=r.getWinPositions(h.expConfig.positionSelector));var y=r.wrapViewabilityRate(m||a,h,u),b=y>=u,w=y;m&&(w=r.wrapViewabilityRate(a,h,u));var E=h.width*h.height*w,A=r.getViewabilityRateInWindow(a,E,c),S=r.checkIsRecord(h.element,h.hash_value,"_aplus_auto_exp");if((b||A>=c)&&!S){h.exposureTime=e,h.status=1;var T=i.getAutoExpUserFn();T&&(h.userParams=s.autoUserFnHandler(T,h.element,h.elementSelector)),i.EXP_DURATION||(h.viewabilityRate=b?y:A,h.viewability=b?"intersection":"fillwindow",h.status=2),s.updateExpHashMap(d,h,"UPDATE"),++n}}}}return n},t.filterEndExposureSize=function(e,t){var n=0;a||(a=r.getWinPositions());var i=o.getGoldlogVal("_aplus_auto_exp")||{},c=i._acHashMap||{};for(var l in c)for(var p=c[l]||[],f=0;f<p.length;f++){var d=p[f]||{};if(1===d.status&&d.exposureTime===e&&d.expConfig){d.eventType=t,d.expConfig.positionSelector&&(a=r.getWinPositions(d.expConfig.positionSelector));var g=r.wrapViewabilityRate(a,d,u),_=r.checkIsRecord(d.element,d.hash_value,"_aplus_auto_exp");g&&!_?(d.viewabilityRate=g,d.status=2,s.updateExpHashMap(l,d,"UPDATE"),++n):(d.status=0,d.exposureTime="",s.updateExpHashMap(l,d,"UPDATE"))}}return n}},function(e,t,n){"use strict";var a=n(52),o=n(64),r=n(54),i=n(57),s=function(e){var t="APLUS_AE_EXPOSURE_CHANGE",n=e&&e.type?e.type:"init",a=(new Date).getTime(),r=o.filterStartExposureSize(a,n);r>0&&(i.EXP_DURATION?setTimeout(function(){r=o.filterEndExposureSize(a,n),r>0&&aplus.aplus_pubsub.publish(t,{size:r,eventType:n})},i.EXP_DURATION):aplus.aplus_pubsub.publish(t,{size:r,eventType:n}))},u=r.throttle(function(e){s(e)},100),c={},l=function(e,t){if(e&&e.forEach&&Object.keys&&document.querySelector){e.forEach(function(e){e.positionSelector&&document.querySelector(e.positionSelector)&&(c[e.positionSelector]=!0)});var n=Object.keys(c);n.forEach(function(e){a[t]&&a[t](document.querySelector(e),"scroll",function(e){u(e)})})}};t.watch_exposure_change=function(e){aplus.aplus_pubsub.subscribe("APLUS_AE_DOM_CHANGE",s),a.on(window,"touchmove",u),a.on(window,"scroll",u),a.on(window,"resize",s),l(e,"on")},t.clear=function(e){a.un(window,"touchmove",u),a.un(window,"scroll",u),a.un(window,"resize",s),l(e,"un")}},function(e,t,n){"use strict";function a(e,t,n){var a="0";if(n){if("spmc"===e){var o=n.split(".");a=o[2]?o[2]:o[3],/^(\i|\d)[0-9]+$/.test(a)&&(a="0"),n=[o[0],o[1],a].join(".")}}else{n="";var r=window.g_SPM||{};if("function"==typeof r.getParam){var i=r.getParam(t);"spmc"===e?(a=t.getAttribute("data-spm")||"0",n=[i.a,i.b,a].join(".")):n=[i.a,i.b,i.c,i.d].join(".")}}return n}function o(){i||(i=!0,aplus.on(window,"beforeunload",function(){clearInterval(r);for(var e=0;e<v.length;e++)aplus_queue.push(v[e])}))}var r,i,s=n(49),u=n(15),c=n(2),l=n(12),p=n(51),f=n(54),d=n(57),g=function(){var e=aplus.aplusDebug,t={},n=d.getDefaultRequestCfg(),o=c.getGoldlogVal("_aplus_auto_exp")||{},r=o._acHashMap||{};return p(r,function(r,i){for(var s=i||[],c=0,p=s.length;c<p;c++){var d=s[c]||{};if(2===d.status){d.status=3,f.updateExpHashMap(r,d,"UPDATE"),o.exp_times++;var g,_=d.expConfig||{},h=goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0.0.0",v=a(_.eltype,d.element)||h,m="";try{var y=new Number(d.viewabilityRate);g=y.toFixed(2)}catch(e){g=d.viewabilityRate}var b={_w:d.width,_h:d.height,_x:d.x,_y:d.y,_rate:g,_viewability:d.viewability};"object"==typeof d.userParams&&("object"==typeof d.userParams.userdata&&(b=u.assign(b,d.userParams.userdata)),d.userParams.spm&&(v=a(_.eltype,"",d.userParams.spm)),d.userParams.scm&&(m=d.userParams.scm)),(f.isMethod(_.method)||f.isPkgSize(_.pkgSize))&&(n=f.filterExpConfigRequestCfg(_));var w={scm:m,spm:v,aplusContentId:""},E=f.fillPropsData(_,d.element,b);if(E=f.fillFilterData(_,d.element,b),E=u.assign(E,f.getDataTrackerParams(d.element)),aplus.globalConfig.isAli)w.exargs=E;else{var A=f.fillSpmData(_,d.element,b);E=u.assign(E,A),w=E}t[r]||(t[r]=[]),t[r].push(w),e&&l().w("logkey = "+r+", params = "+decodeURIComponent(JSON.stringify(w)))}}}),{logkeyContainer:t,request_cfg:n}},_=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var o=e[n]||{},r={};p(o,function(e,t){"element"!==e&&(r[e]=t)});var i=u.cloneDeep(r);i.element=o.element,t.push(i)}return t},h=function(e){var t=c.getGoldlogVal("_aplus_auto_exp")||{},n=t._acHashMap||{},a=[];p(n,function(t,n){for(var o=_(n)||[],r=0,i=o.length;r<i;r++){var s=o[r]||{},u=n[r]||{};if(3===s.status)try{f.setRecordSuccess(u,d.DATA_APLUS_AE_KEY),aplus.aplus_pubsub.publish("APLUS_ELEMENT_EXPOSURE",{logkey:t,v_origin:u,options:e}),a.push(u)}catch(e){l().w(e&&e.message)}}for(;a.length>0;)f.updateExpHashMap(t,a.pop(),"CLEAR")})},v=[],m=function(){r=setInterval(function(){v.length>0?aplus_queue.push(v.pop()):(clearInterval(r),r=null)},200)},y=function(e,t,n){var a=e.logkeyContainer||[],o=e.request_cfg||{};s.wrap(function(){p(a,function(e,a){if(a&&a.length>0){for(var r=0;r<a.length;){var i=[],s=JSON.stringify(a.slice(r,r+o.pkgSize));i.push("expdata="+s),i.push("_is_auto_exp=1"),i.push("_eventType="+t.eventType),i.push("_method="+o.method),i.push("_pkgSize="+o.pkgSize);var u=o.method||"POST";v.push({action:"aplus.record",arguments:[e,"EXP",i.join("&"),u]}),r+=o.pkgSize}n(t)}})},"recordAplusAtForAli")},b=function(e,t,n){var a=e.logkeyContainer||[],o=e.request_cfg||{};s.wrap(function(){p(a,function(e,a){if(a&&a.length>0){for(var r=0;r<a.length;){var i={_is_auto_exp:1,_eventType:t.eventType,_method:o.method,is_auto:1},s=a[r];for(var u in s)i[u]=s[u];var c=o.method||"POST";aplus_queue.push({action:"aplus.record",arguments:[e,"EXP",i,c]}),r+=1}n(t)}})},"recordAplusAtForAliyun")},w=function(e){if(e.size>0){r||m();var t=g()||{};aplus.globalConfig.isAli?y(t,e,h):b(t,e,h)}};t.watch_data_change=function(){aplus.aplus_pubsub.subscribe("APLUS_AE_EXPOSURE_CHANGE",w),o()},t.clear=function(){aplus.aplus_pubsub.unsubscribe("APLUS_AE_EXPOSURE_CHANGE",w)}},function(e,t,n){"use strict";var a=n(68),o=n(3),r=n(40).nameStorage,i=n(46);e.exports=function(){return{recordValInWindowName:function(){var e,t,n=o.HTTPS==location.protocol,a=aplus.globalConfig.NAMESTORAGE_KEYS||{},s=parent!==self;if(!s&&n){var u=location.href,c=n&&(u.indexOf("login.taobao.com")>=0||u.indexOf("login.tmall.com")>=0),l=i.getRefer(a);c&&l?(e=l,t=r.getItem(a.REFERRER_PV_ID)):(e=u,t=aplus.pvid),r.setItem(a.REFERRER,e),r.setItem(a.REFERRER_PV_ID,t)}},run:function(){var e=this;a.on(window,"beforeunload",function(){e.recordValInWindowName()})}}}},function(e,t,n){"use strict";function a(e,t,n){var a=aplus._$||{},o=a.meta_info||{},r=o.aplus_ctap||{},i=o["aplus-touch"];if(r&&"function"==typeof r.on)r.on(e,t);else{var s="ontouchend"in document.createElement("div");!s||"tap"!==i&&"tapSpm"!==n&&"tap"!==n?u(e,s?"touchstart":"mousedown",t):l.on(e,t)}}function o(e){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(function(){o(e)},1)}e()}function r(e){var t=0,n=function(){0===t&&e(),t++};"complete"===document.readyState&&n();var a;if(document.addEventListener)a=function(){document.removeEventListener("DOMContentLoaded",a,!1),n()},document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",n,!1);else if(document.attachEvent){a=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),n())},document.attachEvent("onreadystatechange",a),window.attachEvent("onload",n);var r=!1;try{r=null===window.frameElement}catch(e){}document.documentElement.doScroll&&r&&o(n)}}function i(e){"complete"===document.readyState?e():u(window,"load",e)}function s(e){var t=history[e];return function(){var n=new Event(e);n.arguments=arguments,window.dispatchEvent(n);var a=t.apply(this,arguments);return a}}function u(){var e=window,t=arguments;if(2===t.length)"DOMReady"===t[0]&&r(t[1]),"onload"===t[0]&&i(t[1]);else if(3===t.length){var n=t[0],o=t[1],u=t[2];if("tap"===o||"tapSpm"===o)a(n,u,o);else{["pushState","replaceState"].indexOf(o)>-1&&(history[o]=s(o));var l=document.attachEvent?"attachEvent":"addEventListener",p=!!document.attachEvent;n[l]((p?"on":"")+o,function(t){t=t||e.event;var n=t.target||t.srcElement;"function"==typeof u&&u(t,n)},!!c(o)&&{passive:!0})}}}var c=n(69),l=n(53);t.DOMReady=r,t.onload=i,t.on=u},function(e,t){var n;e.exports=function(e){if("boolean"==typeof n)return n;if(!/touch|mouse|scroll|wheel/i.test(e))return!1;n=!1;try{var t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,t)}catch(e){}return n}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){var e=n(71),t=e.create({WS:null,CTX:window,CTX_TYPE:"WEB"});t.run(this.options)}}}},function(e,t,n){"use strict";var a,o=n(72),r=n(2),i=n(73),s=n(74),u=n(12),c=n(3),l=n(6),p=n(83);e.exports=i.extend({handlerMiddleware:function(e){var t=r.getGlobalValue("aplus");if(!t.getMetaInfo(c.JSBRIDGE_ONLY)){var n=o.changeToObj(e.what_to_send.logdata),i=location&&location.href.match(/aplusDebug=(true|false)/)||[],f=t.getMetaInfo("DEBUG")||i[1];u().setDebug(!!f);var d,g=s(n,e.userdata);t._h5_share_enable?d="POST":(d=e.where_to_send.method,"POST"===d&&navigator&&navigator.sendBeacon||(g="d="+encodeURIComponent(g))),u().i("event before send to: ",e.where_to_send.url),a||(a=(new Date).getTime()),a&&a-(new Date).getTime()>c.SHARE_CACHE_INTERVAL&&t._h5_share_enable&&(l.remove("__sharefrom"),l.remove("__fromappkey"),l.remove("_um_ssrc"),l.remove("_um_channel"),l.remove("_um_campaign")),t._h5_share_enable?p.request4um({url:e.where_to_send.url,method:d,data:g,success:function(e){e&&e.imprint&&l.set(c.IMPRINT,e.imprint)},error:function(e){u().w("aplus weblogs error: "+e)}}):t.send(e.where_to_send.url,g,d)}}})},function(e,t,n){"use strict";var a=n(2);t.getKeyIndex=function(e){var t={protocol:1,event_args:25};return t[e]};var o="-";t.changeToArray=function(e,t){var n=a.getGlobalValue("aplus"),r=t.event_timestamp.getTime().toString(),i=t.client||{},s=i.screenWidth||"",u=i.screenHeight||"",c=s+"*"+u,l=s&&u?c:o,p=i.language||o,f=t.gokey||{},d=JSON.stringify(f),g=JSON.stringify({customSdkId:t.sdk_info.customSdkId||"",platform_type:t.sdk_info.platformType||""}),_=t.appKey||t.appId||o,h=JSON.stringify({appId:i.appId||n.getMetaInfo("miniAppId")||""}),v=JSON.stringify(t.sessionArgs||{}),m=JSON.stringify(t.globalArgs||{}),y=t.arg1||t.logkey||o;0===y.indexOf("/$$_")&&(y=y.substring(1,y.length)),"2001"===t.event_code&&t.trackerEventCode&&(y=t.trackerEventCode);var b=[t.cache,t.method||"GET",o,l,_,h,t._dev_id||o,"{}",t._user_nick||o,t._user_id||o,t._anony_id||o,"{}",p,t.timeZone||o,i.os||o,i.os_version||o,g,t._session_id||o,t.cna||o,r,encodeURIComponent(t.url)||o,t.event_code||o,encodeURIComponent(t.pre)||o,m,v,d,y,t.sdk_info.jsver,t.sdk_info.lver,i.appVersion||"devtools"||o,i.brand||o,o,i.networkType||o];return b},t.changeToObj=function(e){var t=a.getGlobalValue("aplus"),n=e.event_timestamp.getTime().toString(),r=e.client||{},i=r.language||o,s=e.gokey||{},u=JSON.stringify(s),c=JSON.stringify({customSdkId:e.sdk_info.customSdkId||"",platform_type:e.sdk_info.platformType||""}),l=e.appKey||e.appId||o,p=JSON.stringify({appId:r.appId||t.getMetaInfo("miniAppId")||""}),f=JSON.stringify(e.sessionArgs||{}),d=JSON.stringify(e.globalArgs||{}),g=e.arg1||e.logkey||o;0===g.indexOf("/$$_")&&(g=g.substring(1,g.length)),"2001"===e.event_code&&e.trackerEventCode&&(g=e.trackerEventCode);var _={};_.platform=e.sdk_info.platformType||"",_.sdk_type=_.platform?_.platform+"mp":"",_.appkey=l,_.sdk_version=e.sdk_info.lver,_.device_type=r.device_model||"",_.os=r.os||"",_.os_version=r.os_version||"",_.jsver=e.sdk_info.jsver,_.pixel_ratio=window.devicePixelRatio||"";var h=Math.round(r.screenWidth*(window.devicePixelRatio||1)),v=Math.round(r.screenHeight*(window.devicePixelRatio||1));_.resolution=h>v?h+"*"+v:v+"*"+h,_.language=i,_.app_version=t.getMetaInfo("appVersion")||"devtools",_.arg1=g,_.event_args=u,_.event_code=e.event_code||"",_.sessionArgs=f,_.global_args=d,_.app_ext_info=p,_.time=n,_.cna=e.cna||"",_.url=e.url||"",_.pre=e.pre||"",_.method=e.method||"GET",_.log_id=e.cache||"",_.sdk_info=c,_.is_auto=e.is_auto,_.track_type=e.track_type;var m=t.getMetaInfo("aplus-exdata");return m&&m.aplus_track_debug_id&&(_.track_debug_id=m.aplus_track_debug_id),_}},function(e,t,n){"use strict";var a=n(31),o=n(37),r=n(3);e.exports=a.extend({subscribeLogs:function(e,t){o.pushIntoGoldlogQueue(r.SUBSCRIBE,[e,function(e){e.status===r.COMPLETE&&t(e)}])},getLogicSymbol:function(){return"ALI"===this.format?"&":"||"},handlerMiddleware:function(){},watchLOG:function(){var e=this;e.subscribeLogs(r.MW_CHANGE_PV,function(t){e.handlerMiddleware(t,"pv")}),e.subscribeLogs(r.MW_CHANGE_HJLJ,function(t){e.handlerMiddleware(t,r.APLUS)})},run:function(){this.watchLOG()}})},function(e,t,n){function a(){var e={},t=m.getUrlParams();try{b(t,function(t,n){0===t.indexOf("utm_")&&(e[t]=n)})}catch(e){}return e}function o(){var e=l.getGlobalValue("aplus");if(e._h5_share_enable){var t={},n=y.get("__sharefrom"),a=y.get("__fromappkey"),o=y.get("_um_ssrc"),r=y.get("_um_channel"),i=y.get("_um_campaign");return n&&(t.sharefrom=n),a&&(t.fromappkey=a),o&&(t._um_ssrc=o),r&&(t._um_channel=r),i&&(t._um_campaign=i),t}}function r(e,t){var n=w.getPageCode(location.pathname),a=l.getGlobalValue("aplus"),o=a.getMetaInfo&&a.getMetaInfo("aplus-pagename")||"";return e.spmB||e.page_name||document.body&&document.body.dataset&&document.body.dataset.pagename||o||n||t.url||"-"}function i(e,t){var n=l.getGlobalValue("aplus");try{var i={},s=n.getMetaInfo("globalproperty"),c=a();m.isEmptyObject(s)&&m.isEmptyObject(c)||(i.gp=p.assign({},s,c));var f,d=t.gokey;f="string"==typeof d?A.arr2obj(A.param2arr(d)):"object"==typeof d?u(d):{},e.event_code&&(i.event_type_id=e.event_code),f.targetAppKey&&(i.targetAppKey=f.targetAppKey,delete f.targetAppKey),f.is_auto?(i.is_auto=1,i.track_type="1",delete f.is_auto,delete f["aplus-ae"],delete f["aplus-clk"],delete f.auto_element):(i.is_auto=0,i.track_type="0"),f.ap&&(i.ap=f.ap,i.ap.page_title=document.title||"",delete f.ap),e.url&&(i.page_name=r(f,e),i.url=e.url||"-",i.page_name&&f.spmC&&(i["spm-cnt"]=[encodeURIComponent(i.page_name),encodeURIComponent(f.spmC),encodeURIComponent(f.spmD)].filter(function(e){return!!e}).join("."),delete f.spmC,delete f.spmD,delete f.spmB));var _=u(f);for(var y in _)"string"==typeof y&&p.startsWith(y,"_")&&(i[y]=_[y],delete f[y]);i=m.assign(i,o()||{}),i.rank=E.rank(),t.logkey===g.PAGE_LEAVE&&(i.amount=i.rank);var b=h(t.logkey,m.assign(i,{cusp:f}));return b}catch(e){return v().w("JSON parse failed",e),{}}}function s(e,t){var n=l.getGlobalValue("aplus"),i=n.getMetaInfo("globalproperty"),s=a(),c={};c.r=e.arg1,c.title=document.title||"",m.isEmptyObject(i)&&m.isEmptyObject(s)||(c.gp=p.assign({},i,s)),c.is_auto=e.is_auto?1:0,c.track_type=e.track_type;var f=t,d=u(p.deleteInfo(u(f),["_anony_id","_dev_id","_session_id","_user_id","_user_nick","_src_pos_id","cna","_abfpc"]));if(d.duration&&(c.duration=d.duration,delete d.duration),e.url&&(c.page_name=r(d,e),c.url=e.url,c["spm-cnt"]=encodeURIComponent(c.page_name),c.ap={page_title:document.title||"",element_type:"UIViewController"}),e.pre&&(c.ref_url=e.pre||"-",n._h5_share_enable&&c.ref_url.length>1)){var _=c.ref_url.match(/(\w|-)+\.(\w|-)+\.(\w|-)+/);_&&_.length>0&&(c._um_referer_domain=_[0])}return c.rank=E.rank(),c=m.assign(c,o()||{}),h(g.PAGE_START,m.assign(c,{cusp:d}))}var u=n(75),c=n(76),l=n(2),p=n(77),f=n(78),d=n(79),g=n(3),_=n(17),h=n(80),v=n(12),m=n(15),y=n(6),b=n(51),w=n(81),E=n(82),A=n(21);e.exports=function(e,t){var n=l.getGlobalValue("aplus"),a=n.getMetaInfo("aplus-globaldata")||{};if(!e||!t||p.checkEmptyObj(e)||p.checkEmptyObj(t))return{};var o={},r=u(c(e)),h=n.getMetaInfo(g._ANONY_ID)||e.cna;h&&(r.id_tracking.anony_id=h),a._abfpc&&(r.id_tracking._abfpc=a._abfpc);var m=n.getMetaInfo("_dev_id")||e.cna;if(m&&(r.id_tracking.dev_id=m),n._h5_share_enable){var b=n.getMetaInfo("uuid");b&&(r.id_tracking.ud=b);var w=n.getMetaInfo("openid");w&&(r.id_tracking.openid=w);var E=n.getMetaInfo("unionid");E&&(r.id_tracking.unionid=E);var A=n.getMetaInfo("anouymousopenid");A&&(r.id_tracking.anonymousid=A);var S=n.getMetaInfo("alipayid");S&&(r.id_tracking.alipay_id=S);var T=n.getMetaInfo("swanid");T&&(r.id_tracking.anonymousid=T);var P=n.getMetaInfo(g.USER_PROFILE_KEY);P&&(r.user_info=P);var I=y.get(g.IMPRINT);I&&(r.imprint=I);var C=n.getMetaInfo(g.ID_TYPE)||"cnaid";r.id_type=C}var x=null;x="2001"===e.event_code?s(e,t):i(e,t),x&&(o={analytics:{ekvs:{sessionid:[u(x)]}}});var M=n.getMetaInfo(g._USER_ID);M&&o.analytics&&(o.analytics.active_user={puid:M,provider:n.getMetaInfo("_user_nick")}),o.header=p.assign(r,o.header,{ts:Date.now(),traceId:p.getRandomStr(10)+Date.now()+p.getRandomStr(9)});try{var O=window.sessionStorage.getItem(g.START_ID);O&&(o.header.startId=O)}catch(e){}var k=f(o),N=_.stringfy(k);return v().i("event data: ",k),d.encode(N)}},function(e,t){function n(e){var t,a=Array.isArray(e)?[]:{};if("object"==typeof e){if(JSON&&JSON.parse)t=JSON.stringify(e),a=JSON.parse(t);else for(var o in e)a[o]="object"==typeof e[o]?n(e[o]):e[o];return a}}e.exports=n},function(e,t){e.exports=function(e){var t={};return t.sdk_type=e.sdk_type,t.appkey=e.appkey,t.sdk_version=e.sdk_version,t.device_type=e.device_type,t.os=e.os,t.os_version=e.os_version,t.platform=e.platform,t.pixel_ratio=e.pixel_ratio,t.resolution=e.resolution,t.language=e.language,t.app_version=e.app_version,t.jsver=e.jsver,t.pre=e.pre,t.url=e.url,t.debugId=e.track_debug_id,t.id_tracking={},t}},function(e,t,n){function a(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a=0;a<Number(e);a++){var o=Math.round(Math.random()*(n.length-1));t+=n[o]}return t}t.getRandomStr=a,t.startsWith=function(e,t){return!(!e||!t||0===t.length||t.length>e.length)&&e.substr(0,t.length)===t},t.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},t.checkEvent=function(e,t){var a=n(3),o=n(12);if(!e||"string"!=typeof e)return o().e('please check trackEvent id. id should be "string" and not null'),!1;var r=["id","du"],i={};if(r.forEach(function(e){i[e]=1}),i[e])return o().e("eventId不能与以下保留字冲突: "+r.join(",")),!1;if(e.length>a.MAX_EVENTID_LENGTH)return o().e("The maximum length of event id shall not exceed "+a.MAX_EVENTID_LENGTH),!1;if(t&&("object"!=typeof t||Array.isArray(t))&&"string"!=typeof t)return o().e("please check trackEvent properties. properties should be string or object(not include Array)"),!1;if("object"==typeof t){var s=0;for(var u in t)if({}.hasOwnProperty.call(t,u)){if(u.length>a.MAX_PROPERTY_KEY_LENGTH)return o().e("The maximum length of property key shall not exceed "+a.MAX_PROPERTY_KEY_LENGTH),!1;if(s>=a.MAX_PROPERTY_KEYS_COUNT)return o().e("The maximum count of properties shall not exceed "+a.MAX_PROPERTY_KEYS_COUNT),!1;if(i[u])return o().e("属性中的key不能与以下保留字冲突: "+r.join(",")),!1;s+=1}}return!0};var o=n(8);t.deleteInfo=function(e,t){return o(t,function(t){delete e[t]}),e},t.checkEmptyObj=function(e){return"object"!=typeof e||0===Object.keys(e).length},t.getStartId=function(){return a(10)+Date.now()},t.DataType={HALF_SESSION:"half_session",CLOSE_SESSION:"close_session",EKV:"ekv",ENTER_PAGE:"enter_page",LEAVE_PAGE:"leave_page"},t.AccessType={MOBILE_NETWORK_2G:"2g",MOBILE_NETWORK_3G:"3g",MOBILE_NETWORK_4G:"4g",MOBILE_NETWORK_NONE:"none"}},function(e,t){function n(e,t){var n=a(e,t);return e&&e.id_tracking&&(n[t.id_tracking||"id_tracking"]=a(e.id_tracking,s)),n}function a(e,t){var n={};for(var a in e)t[a]?n[t[a]]=e[a]:n[a]=e[a];return n}function o(e,t){var n={};if(e)for(var a in e)e[a]&&(n[t[a]]=e[a]);return n}var r={ekvs:"e",active_user:"active_user"},i={sdk_type:"sdt",device_model:"dm",language:"lang",device_type:"dt",os_version:"ov",appkey:"ak",sdk_version:"sv",resolution:"rl",testToken:"ttn",pixel_ratio:"pr",_id:"id",id_type:"it",id_tracking:"itr",imprint:"imp",debugId:"dk"},s={uuid:"ud",unionid:"und",openid:"od",anonymousid:"nd",alipay_id:"ad",device_id:"dd",userid:"puid"};e.exports=function(e){return{h:n(e.header,i),a:o(e.analytics,r)}}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(e){for(var t={},n=0,a=e.length;n<a;n++)t[e.charAt(n)]=n;return t}(n),o=String.fromCharCode,r=function(e){var t;return e.length<2?(t=e.charCodeAt(0),t<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t)):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),o(240|t>>>18&7)+o(128|t>>>12&63)+o(128|t>>>6&63)+o(128|63&t))},i=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(e){return e.replace(i,r)},u=function(e){var t=[0,2,1][e.length%3],a=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[n.charAt(a>>>18),n.charAt(a>>>12&63),t>=2?"=":n.charAt(a>>>6&63),t>=1?"=":n.charAt(63&a)];return o.join("")},c=function(e){return e.replace(/[\s\S]{1,3}/g,u)},l=function(e){return c(s(e))},p=function(e,t){return t?l(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/\=/g,""):l(String(e))},f=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),d=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return o((n>>>10)+55296)+o((1023&n)+56320);case 3:return o((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return o((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},g=function(e){return e.replace(f,d)},_=function(e){var t=e.length,n=t%4,r=(t>0?a[e.charAt(0)]<<18:0)|(t>1?a[e.charAt(1)]<<12:0)|(t>2?a[e.charAt(2)]<<6:0)|(t>3?a[e.charAt(3)]:0),i=[o(r>>>16),o(r>>>8&255),o(255&r)];return i.length-=[0,0,2,1][n],i.join("")},h=function(e){return e.replace(/[\s\S]{1,4}/g,_)},v=function(e){return g(h(e))},m=function(e){return v(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};t.encode=p,t.decode=m},function(e,t,n){var a=n(2),o=n(15);e.exports=function(e,t){if("string"!=typeof e)return null;var n=Object.create(null);n.id=e,t&&t.ts||(n.ts=Date.now());var r=typeof t;if("object"===r)for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i]);var s=a.getGlobalValue("aplus"),u=s.getMetaInfo("globalproperty");return o.isEmptyObject(u)||(n.gp=u),n}},function(e,t,n){function a(e,t){if(!e||"-"===e)return"-";var n=[];for(var a in t)n.push(a+"="+t[a]);var o=n.join("&");return o?e+"?"+o:e}var o=n(2),r="",i={};t.getCurrentPagePath=function(){return r},t.setCurrentPath=function(e){e&&(r=e)},t.getPageQuery=function(e){if(e)return i[e]},t.setPageQuery=function(e,t){e&&(i[e]=t)},t.getFullPath=function(e){return a(e,i[e])},t.getPageName=function(e){var t=o.getGlobalValue("aplus"),n=t.getMetaInfo("pageConfig")||{},a=e||r;try{if(n&&"object"==typeof n)for(var i in n){if(i===a)break;if(n[i]&&n[i].regRule){a=n[i].regRule.test(e)?i:a;break}}}catch(e){}return n[a]};var s=n(12),u=n(51);t.getPageTitle=function(e){if(!e)return"";
var t=n(24),a=t.getPlatformType(),r="";try{if("wx"===a&&__wxConfig){var i=__wxConfig,c=__wxConfig.page||{},l=c[e]||c[e+".html"],p={},f={};if(i.global&&i.global.window&&i.global.window.navigationBarTitleText&&(p.title=i.global.window.navigationBarTitleText),l&&l.window&&l.window.navigationBarTitleText&&(f.title=l.window.navigationBarTitleText),!f.title&&__wxAppCode__){var d=__wxAppCode__[e+".json"];d&&d.navigationBarTitleText&&(f.title=d.navigationBarTitleText)}var g=o.getContext();g.globalTitleMap&&u(g.globalTitleMap,function(t,n){t===e&&(r=n)}),0===r.length&&(r=f.title||p.title||"")}return r}catch(e){return s().w("当前平台不支持采集页面标题"),r}},t.getPageCode=function(e){return(this.getPageName(e)||{}).pageName},t.getVTRealtimeCode=function(){if(r){var e=i[r]||{},t=/^\$vt_/,n=decodeURIComponent(e.scene);return n&&t.test(n)&&n.replace(t,"")}}},function(e,t,n){function a(){var e=r.getContext();return e.ekvRank?e.ekvRank++:e.ekvRank=1,e.ekvRank}function o(){var e=r.getContext();e.ekvRank=0}var r=n(2);t.rank=a,t.clear=o},function(e,t,n){"use strict";var a=n(3),o={base:1e4,timeout:1e4},r=function(e,t,n,r){/^\/\//.test(e)&&(e=a.HTTPS+e);var i=!0,s=r&&r.timeout?r.timeout:o.timeout;setTimeout(function(){i&&(i=!1,n({timeout:s}))},s),window.fetch(e).then(function(e){return/application\/json/.test(e.headers.get("content-type"))?e.json():e.text()}).then(function(e){i&&(t(e),i=!1)}).catch(function(e){i&&n(e)})},i=function(e,t,n,a){var r,i="GET",s=function(){r.responseText?t(r.responseText):n()},u=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;u?(r=new XMLHttpRequest,r.open(i,e,!0)):(r=new window.XDomainRequest,r.open(i,e));var c=a&&a.timeout?a.timeout:o.timeout;r.timeout=c,r.onload=s,r.onerror=n,r.ontimeout=n,r.send()},s=function(e,t,n,a){window.fetch?r(e,t,n,a):i(e,t,n,a)},u=function(e,t){e=e||{},e.method=(e.method||"POST").toUpperCase(),e.url=e.url||"",e.data=e.data||null,e.success=e.success||function(){},e.error=e.error||function(){};var n=new XMLHttpRequest,a=[];for(var o in e.data)a.push(o+"="+encodeURIComponent(e.data[o]));var r=a.join("&"),i=JSON.stringify(e.data||{});"POST"===e.method?(n.open(e.method,e.url,!0),n.setRequestHeader("Content-Type",t||"application/json")):"GET"===e.method&&n.open(e.method,e.url+"?"+r,!0),n.withCredentials=!0,n.timeout=3e3,n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t={};try{t=JSON.parse(n.responseText)}catch(e){}e.success(t)}else 4==n.readyState&&e.error(n.staus)},"POST"===e.method?n.send(i):n.send()};t.request=s,t.request4um=u},function(e,t,n){"use strict";var a=n(8);e.exports=function(){return{getLogConfig:function(){var e={},t=this.options.config.plugins;for(var n in t)e[n]={plugins:t[n],context:{}},a(t[n],function(t){e[n].context[t.name]=t.config||{}});return e},run:function(){this.options.context.logConfig=this.getLogConfig(),this.options.context.logConfig.pageLoadTime=this.options.context.PAGE_LOAD_TIME}}}},function(e,t,n){"use strict";var a=n(2),o=n(3);e.exports=function(){return{getMetaInfo:function(){var e=a.getGoldlogVal("_$")||{},t=e.meta_info;return t},getAplusWaiting:function(){var e=this.getMetaInfo()||{};return e["aplus-waiting"]},run:function(e,t){var n=this.options.config||{},a=this.getAplusWaiting();if(a&&n.is_auto)switch(a=this.getAplusWaiting()+"",this.options.context.when_to_sendpv={aplusWaiting:a},a){case o._USER_ID:case o._ANONY_ID:case"MAN":return"done";case"1":return this.options.context.when_to_sendpv.isWait=!0,setTimeout(function(){t()},6e3),6e3;default:var r=1*a;if(r+""!="NaN")return this.options.context.when_to_sendpv.isWait=!0,setTimeout(function(){t()},r),r}}}}},function(e,t,n){"use strict";var a=n(87),o=n(2),r=n(12),i=n(21),s="POST",u="GET";e.exports=function(){return{getMetaInfo:function(){var e=o.getGoldlogVal("_$")||{},t=e.meta_info;return t},getAplusMetaByKey:function(e){var t=this.getMetaInfo()||{};return t[e]},getRhost:function(){var e=this.getAplusMetaByKey("aplus-rhost-v");return i.checkDomain(e)?e:""},getHjljHostUrl:function(e){var t=/^\/\//.test(e)?"":"//",n="/web_logs",a=t+e+n;return a},getPvHostUrl:function(e){var t=/^\/\//.test(e)?"":"//",n=/\/$/.test(e)?"":"/",o="v.gif";return a.isMobile()&&(o="m.gif"),t+e+n+o},getHostUrl:function(e){var t=/^\/\//.test(e)?"":"//",n="/web_logs",a=t+e+n;return a},getChannel:function(e){var t,n=this.getAplusMetaByKey("aplus-channel"),a=["WS","WS-ONLY",u,s];return a.indexOf(e)>-1&&(t=e),!t&&a.indexOf(n)>-1&&(t=n),t},run:function(){var e=o.getGlobalValue("aplus"),t=!!this.options.context.is_single;if(!t){var n=this.options.config.recordType,a=this.getRhost(n);if(!a)return r().w("current request domain invalid, please check your aplus-rhost-v value inside metainfo!"),"done";var i;i="PV"!==n||e._h5_share_enable?this.getHjljHostUrl(a):this.getPvHostUrl(a);var c=this.options.config||{},l=this.getChannel(c.method)||s;l!==s||navigator&&navigator.sendBeacon||(l=u),this.options.context.where_to_send.method=c.method,this.options.context.where_to_send.url=i}}}}},function(e,t){"use strict";t.isMobile=function(){var e=navigator?navigator.userAgent:"",t=/AliApp|Yunos|cyclone/i.test(e),n=/iPhone|iPad|iPod/i.test(e),a=/Android/i.test(e),o=/Windows Phone/i.test(e)||/IEMobile/i.test(e)||/WPDesktop/i.test(e),r=/BlackBerry/i.test(e),i=/Opera Mini/i.test(e);return t||n||a||o||r||i}},function(e,t,n){"use strict";var a=n(7),o=n(12),r=n(89),i=n(15),s=n(87),u=n(2),c=n(3),l=n(90),p=i.getUrlParams();e.exports=function(){return{getCommonParams:function(){var e=u.getGlobalValue("aplus"),t=e.getMetaInfo("aplus-globaldata")||{},n=this.options.context||{},p=n.etag||{},f=n.userdata||{},d=u.getGoldlogVal("_$")||{},g=this.options.config||{},_=s.isMobile()?"WAP":"PC",h={_dev_id:e.getMetaInfo("_dev_id"),_anony_id:e.getMetaInfo(c._ANONY_ID),_user_id:e.getMetaInfo(c._USER_ID),_user_nick:e.getMetaInfo("_user_nick")||a.getCookie("tracknick"),_session_id:e.getMetaInfo("_session_id")},v=g.pageUrl||(location?location.href:"-"),m=g.title||document&&document.title,y=(e.globalConfig.isDecodeUrl?"DC_":"")+r.getLogId(v,m),b=e.getMetaInfo("appKey")||e.getMetaInfo("appId");b||o().w("please set appId in aplus metaInfo before sendPV!");var w=i.assign({appId:b,cache:y,cna:t.cna||"",_abfpc:t._abfpc||"",etag:p,pre:d.page_referrer||"-",sdk_info:{jsver:e.globalConfig.script_name,lver:e.globalConfig.lver,customSdkId:e.getMetaInfo("customSdkId")||"",platformType:_.toLowerCase()},trackerEventCode:g.trackerEventCode,title:m,url:v,client:e._aplus_client||{},timeZone:l.getTimeZone(),gokey:h,gmkey:f.gmkey||"",method:this.options.context.where_to_send.method},h);return w},getPvParams:function(){var e=this.getCommonParams(),t=u.getGlobalValue("aplus");return this.options.config.is_auto||(e.sdk_info.mansndlog=1),t.globalConfig.isUM||(e.gokey=i.assign(p,e.gokey)),i.assign(e,{event_code:"2001",logtype:"1",logkey:s.isMobile()?"/m.gif":"/v.gif",event_timestamp:t._$.send_pv_count>0?new Date:t.logConfig.pageLoadTime,is_auto:this.options.config.is_auto,track_type:this.options.config.track_type})},getHjljParams:function(){var e=this.options.context||{},t=e.userdata||{},n={event_code:c.EVENT_ID_MAP[t.gmkey]||c.OTHER,logtype:"2",logkey:t.logkey,event_timestamp:new Date};return i.assign(this.getCommonParams(),n)},run:function(){var e={};e="PV"===this.options.config.recordType?this.getPvParams():this.getHjljParams(),this.options.context.what_to_send.logdata=e}}}},function(e,t,n){"use strict";function a(e,t,n){return e?o.hash(encodeURIComponent(e)).substr(0,t):n}var o=n(55),r=function(e){function t(e){var t="0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ",n="0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ";return 1==e?t.substr(Math.floor(60*Math.random()),1):2==e?n.substr(Math.floor(60*Math.random()),1):"0"}for(var n,a="",o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=!1;a.length<e;)n=o.substr(Math.floor(62*Math.random()),1),!r&&a.length<=2&&("g"==n.toLowerCase()||"l"==n.toLowerCase())&&(0===a.length&&"g"==n.toLowerCase()?Math.random()<.5&&(n=t(1),r=!0):1==a.length&&"l"==n.toLowerCase()&&"g"==a.charAt(0).toLowerCase()&&(n=t(2),r=!0)),a+=n;return a};t.getLogId=function(e,t){var n=r(8),o=n.substr(0,4),i=n.substr(0,6);return[a(e,4,o),a(t,4,o),i].join("")}},function(e,t){t.getTimeZone=function(){var e=-(new Date).getTimezoneOffset()/60,t="+";e<0&&(t="-");var n=Math.abs(parseInt(e)),a=Math.abs(parseInt(e)-e),o="00";return a>0&&(o=60*a),"GMT"+t+(n>9?n:"0"+n)+":"+o}},function(e,t,n){"use strict";var a=n(42),o=n(92),r=n(15),i=n(2);e.exports=function(){return{getUserdata:function(){var e=i.getGlobalValue("aplus"),t=this.options.config||{},n={};t&&!t.is_auto&&t.gokey&&("string"==typeof t.gokey?n=a.param2obj(t.gokey):"object"==typeof t.gokey&&(n=t.gokey));var s=function(e){o(e)?e.forEach(function(e){n=r.assign(n,e)}):n=r.assign(n,e)};s(e.getMetaInfo("aplus-globaldata")),s(e.getMetaInfo("aplus-cpvdata"));var u=this.options.context||{},c=u.userdata||{};return s(c),n},processLodashDollar:function(){var e=this.options.config||{},t=i.getGoldlogVal("_$")||{};e&&e.referrer&&(t.page_referrer=e.referrer),i.setGoldlogVal("_$",t)},updatePre:function(e){var t=i.getGoldlogVal("_$")||{};return t.page_referrer&&(e.pre=t.page_referrer),e},run:function(){var e=this.options.context.what_to_send.logdata,t=r.assign(this.getUserdata(),e.userdata||{});this.processLodashDollar(),e.gokey=r.assign(e.gokey,t),e=this.updatePre(e),this.options.context.what_to_send.logdata=e,this.options.context.userdata=e.gokey}}}},function(e,t){"use strict";e.exports=function(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))}},function(e,t,n){"use strict";var a=n(94),o=n(95),r=n(2),i=n(16);e.exports=function(){return{getPageId:function(){var e=this.options.config||{},t=this.options.context||{},n=t.userdata||{};return e.page_id||e.pageid||e.pageId||n.page_id},resetSpmB:function(){var e=r.getGlobalValue("aplus");if(e.spmAPI){var t=r.getGoldlogVal("_$")||{},n=t.spm||{},a=n.data.b;if(a){var o=this.getPageId();a=o?a.split("/")[0]+"/"+o:a.split("/")[0],e.spmAPI&&e.spmAPI.setB(a);var i=n.spm_cnt.split(".");i&&i.length>2&&(i[1]=a,n.spm_cnt=i.join("."))}}},getExParamsInfo:function(){var e=a.getExParams();return this.options.context.what_to_send.logdata.exparams=e,o(e)},run:function(){this.resetSpmB();var e=this.options.context.what_to_send.logdata.gokey;e=i(this.getExParamsInfo(),e),this.options.context.what_to_send.logdata.gokey=e}}}},function(e,t,n){"use strict";function a(e){for(var t,n=e.split("&"),a=0,o=n.length,r=[];a<o;a++)t=n[a].split("="),r.push([t.shift(),t.join("=")]);return r}function o(e,t){var n="aplus&sidx=aplusSidex&ckx=aplusCkx",a=e||n;try{if(t){var o=u.param2obj(t),r=[g.APLUS,"cna",g.SPM_CNT,g.SPM_URL,g.SPM_PRE,"logtype","pre","uidaplus","asid","sidx","trid","gokey"];s(r,function(e){o.hasOwnProperty(e)&&(d().w("Can not inject keywords: "+e),delete o[e])}),delete o[""];var i="";if(e){var l=e.match(/aplus&/).index,p=l>0?u.param2obj(e.substring(0,l)):{};delete p[""],i=u.obj2param(c.assign(p,o))+"&"+e.substring(l,e.length)}else i=u.obj2param(o)+"&"+n;return i}return a}catch(e){return a}}function r(){var e=aplus&&aplus._$?aplus._$:{},t=e.meta_info||{};return t["aplus-exparams"]||""}function i(){var e=l.getCurrentNode(),t=p.tryToGetAttribute(e,"exparams"),n=o(t,r())||"";return n&&n.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=")}var s=n(8),u=n(42),c=n(15),l=n(19),p=n(20),f=n(11),d=n(12),g=n(3);t.mergeExparams=o,t.getExParams=i,t.getExparamsInfos=function(e,t){var n={},o=e||["uidaplus","pc_i","pu_i"],r=i()||"";r=r.replace(/&aplus&/,"&");for(var s=a(r)||[],u=function(e){return f.indexof(o,e)>-1},c=0;c<s.length;c++){var l=s[c],p=l[0]||"",d=l[1]||"";p&&d&&("EXPARAMS"===t||u(p))&&(n[p]=d)}return n}},function(e,t,n){var a=n(42);e.exports=function(e){var t={};try{var n=a.param2obj(e.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=").replace(/&aplus&/,"&"));n.uidaplus&&(t.uidaplus=n.uidaplus),t.pc_i=n.pc_i,t.pu_i=n.pu_i}catch(e){console&&console.log(e)}return t}},function(e,t,n){"use strict";function a(e){var t,n,a,o,i=[],s={};for(t=e.length-1;t>=0;t--)n=e[t],a=n[0],a&&a.indexOf(r.s_plain_obj)==-1&&s.hasOwnProperty(a)||(o=n[1],("aplus"==a||o)&&(i.unshift([a,o]),s[a]=1));return i}function o(e){var t,n,a,o,i=[],u={logtype:!0,cache:!0,scr:!0,"spm-cnt":!0};for(t=e.length-1;t>=0;t--)if(n=e[t],a=n[0],o=n[1],!(s.isStartWith(a,r.s_plain_obj)&&!s.isStartWith(a,r.mkPlainKeyForExparams())||u[a]))if(s.isStartWith(a,r.mkPlainKeyForExparams())){var c=r.param2arr(o);if("object"==typeof c&&c.length>0)for(var l=c.length-1;l>=0;l--){var p=c[l];p&&p[1]&&i.unshift([p[0],p[1]])}}else i.unshift([a,o]);return i}var r=n(21),i=n(11),s=n(15),u=n(2),c=n(7),l=n(36),p=n(3);e.exports=function(){return{keyIsAvailable:function(e){var t=["functype","funcId","spm-cnt","spm-url","spm-pre","_ish5","_is_g2u","_h5url","cna","isonepage","lver","jsver"];return i.indexof(t,e)===-1},valIsAvailable:function(e){return"object"!=typeof e&&"function"!=typeof e},upUtData:function(e,t){var n=this;if(e=e?e:{},t&&"object"==typeof t)for(var a in t){var o=t[a];a&&n.valIsAvailable(o)&&n.keyIsAvailable(a)&&(e[a]=o)}return e},getToUtData:function(){var e=u.getGoldlogVal("_$")||{},t=u.getGlobalValue(p.APLUS),n=e.spm||{},i=this.options.context||{},s=i.what_to_send||{},f=s.logdata||{},d=f.sdk_info||{},g=this.options.context.etag||{},_=o(a(f.exparams||[]));_=r.arr2obj(_);var h=i.userdata,v=location.href,m={},y=l.getParamFromUrl("scm",v)||"";y&&(m.scm=y);var b=l.getParamFromUrl("pg1stepk",v)||"";b&&(m.pg1stepk=b);var w=l.getParamFromUrl("point",v)||"";w&&(m.issb=1),d&&d.mansndlog&&(m.mansndlog=d.mansndlog),m=this.upUtData(m,_),m=this.upUtData(m,f.gokey),m=this.upUtData(m,h),m.functype="page",m.funcId="2001",t&&t.globalConfig&&t.globalConfig.isAli?m.url=(location.protocol||"https:")+"//"+location.host+location.pathname:m.url=location.href,m._ish5="1",m._h5url=v,m._toUT=2,m._bridgeName="WindVane",m._bridgeVersion="3.0.4",n.spm_cnt&&(m[p.SPM_CNT]=n.spm_cnt||""),n.spm_url&&(m[p.SPM_URL]=n.spm_url||""),n.spm_pre&&(m[p.SPM_PRE]=n.spm_pre||""),m.cna=g.cna||c.getCookieCna("cna"),m.lver=d.lver,m.jsver=d.jsver,m.pver="1.0.0",m.isonepage=-1;var E=t.getMetaInfo("aplus-utparam");return E&&(m["utparam-cnt"]=JSON.stringify(E)),m._is_g2u_=1,m._slog=1,m},run:function(){var e=this.options.context||{},t=e.what_to_send||{};t.pvdataToUt=this.getToUtData(),this.options.context.what_to_send=t}}}},function(e,t,n){"use strict";var a=n(15),o=n(77),r=n(3),i=n(2);e.exports=function(){return{getToNativeData:function(){var e=i.getGlobalValue(r.APLUS),t=this.options.context||{},n=a.cloneDeep(t.userdata)||{},s=t.what_to_send||{},u=s.logdata||{},c=u.sdk_info||{},l=this.options.context.etag||{},p={},f={},d={};return f.cna=l.cna,f.lver=c.lver,f.jsver=c.jsver,f.id=r.PAGE_START,f.ts=Date.now(),f.r=u.arg1||u.logkey||"-",f.is_h5="1",n.hasOwnProperty("autosend")?f.is_auto=1:f.is_auto=0,d=a.cloneDeep(o.deleteInfo(n,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick"])),d.duration&&(f.duration=d.duration,delete d.duration),d.page_start&&(f.page_start=d.page_start,delete d.page_start),u.url&&(f.page_name=e.getPageName()||d.spmB||d.page_name||u.url||"-",f.url=u.url||"-",f["spm-cnt"]=encodeURIComponent(f.page_name)),u.pre&&(f.ref_url=u.pre||"-"),d.ts&&delete d.ts,p.sdkArgs=a.cloneDeep(f),p.cusp=d,p},run:function(){var e=this.options.context||{},t=e.what_to_send||{};t.pvdataToUmNative=this.getToNativeData(),this.options.context.what_to_send=t}}}},function(e,t,n){"use strict";var a=n(2),o=n(99);e.exports=function(){return{run:function(){var e=a.getGoldlogVal("_$")||{},t=this.options.context.can_to_sendpv||{},n=e.send_pv_count||0,r=this.options.config||{};return r.is_auto&&n>0||!o.canSendPV(r.track_type)?"done":(t.flag="YES",this.options.context.can_to_sendpv=t,e.send_pv_count=++n,void a.setGoldlogVal("_$",e))}}}},function(e,t,n){function a(e){var t=r.getGlobalValue(i.APLUS),n=t.getMetaInfo(i.APLUS_EVENT_LIMITRATES);if(n&&n.length>0){var a=c.find(n,function(t){return t.eventId===e});if(a){var o=Math.ceil(1e3*Math.random());return o<1e3*a.samplingRate}return!0}return!0}function o(){var e=r.getGlobalValue("aplus"),t=e.globalConfig.isUM;return!!t}var r=n(2),i=n(3),s=n(22),u=n(100),c=n(11),l=n(24),p=n(15),f=n(21);t.canToSendHJLJ=function(e,t){var n=s.getDeviceStatus();if(!n)try{var o=l.getContext();return p.isEmptyObject(o)?void 0:t===i.APP_START||t===i.APP_END}catch(e){}var r=s.getAutoTrackStatus(),c=s.getAutoEventStatus(),d=u.getAutoTrackStatus(),g={};if(g="string"==typeof e?f.arr2obj(f.param2arr(e)):e,g.auto_element){if(2===c||2===r)return;if(!r&&!d)return}if(a(t))return!0},t.canSendPV=function(e){if(!o())return!0;var t=s.getDeviceStatus(),n=s.getAutoPageStatus(),a=u.localAutoPVDisabled(),r=!0;if(t){if("1"===e)return!(2===n||!n&&a)}else r=!1;return r}},function(e,t,n){"use strict";var a=n(3),o=n(2);t.localAutoEventDisabled=function(){var e=o.getGlobalValue("aplus");return!!e.getMetaInfo(a.APLUS_DISABLE_AUTOEVENT)},t.localAutoPVDisabled=function(){var e=o.getGlobalValue("aplus");return!(!e.getMetaInfo(a.APLUS_DISABLE_AUTOPV)&&"MAN"!==e.getMetaInfo("aplus-waiting"))},t.getAutoTrackStatus=function(){var e=o.getGlobalValue("aplus");return!!e.getMetaInfo(a.APLUS_AUTOTRACK_ENABLED)}},function(e,t,n){"use strict";var a=n(45),o=n(2);e.exports=function(){return{run:function(){var e=o.getGlobalValue("aplus"),t=e._$||{},n=this.options.context||{};o.setGoldlogVal("pv_context",n);var r=e.spm_ab||[],i=r.join("."),s=t.send_pv_count,u={cna:n.etag?n.etag.cna:"",count:s,spmab_pre:e.spmab_pre};a.doPubMsg(["sendPV","complete",i,u]),a.doCachePubs(["sendPV","complete",i,u])}}}},function(e,t,n){"use strict";var a=n(42),o=n(92),r=n(15),i=n(2);e.exports=function(){return{getUserData:function(){var e=i.getGlobalValue("aplus"),t=this.options.context||{},n=t.userdata||{},s=t.what_to_send.logdata.gokey;s=r.assign(s,e.getMetaInfo("aplus-globaldata")),s=r.assign(s,a.param2obj(n.gokey));var u=e.getMetaInfo("aplus-exinfo");u&&(s=r.assign(s,a.param2obj(u)));var c=e.getMetaInfo("aplus-exdata");return o(c)?c.forEach(function(e){s=r.assign(s,e)}):s=r.assign(s,e.getMetaInfo("aplus-exdata")),s},run:function(){this.options.context.what_to_send.logdata.gokey=this.getUserData()}}}},function(e,t,n){"use strict";var a=n(94),o=n(95),r=n(15);e.exports=function(){return{getExParamsInfo:function(){var e=a.getExParams();return this.options.context.what_to_send.logdata.exparams=e,o(e)},run:function(){var e=this.options.context.what_to_send.logdata.gokey;e=r.assign(this.getExParamsInfo(),e),this.options.context.what_to_send.logdata.gokey=e}}}},function(e,t,n){"use strict";var a=n(2),o=n(3);e.exports=function(){return{getToUtData:function(){var e=a.getGoldlogVal("_$")||{},t=a.getGlobalValue(o.APLUS),n=e.spm||{},r=this.options.context||{},i=r.userdata||{},s=r.etag||{},u=r.what_to_send||{},c=u.logdata||{},l=c.sdk_info||{},p=c.gokey||{},f=[],d="";for(var g in p)if([o.SPM_CNT,o.SPM_URL,o.SPM_PRE].indexOf(g)===-1){var _=p[g];"undefined"!==p[g]&&void 0!==p[g]||(_=""),f.push(g+"="+_)}f.length>0&&(d=f.join("&"));var h=location.href,v={};v.functype="ctrl",v.funcId=c.event_code,t&&t.globalConfig&&t.globalConfig.isAli?v.url=(location.protocol||"https:")+"//"+location.host+location.pathname:v.url=location.href,v.logkey=c.logkey,v.gokey=encodeURIComponent(d),v.gmkey=c.gmkey,v._ish5="1",v._h5url=h,v._is_g2u_=1,v._slog=1,v._toUT=2,v._bridgeName="WindVane",v._bridgeVersion="3.0.4",n.spm_cnt&&(v[o.SPM_CNT]=n.spm_cnt||""),n.spm_url&&(v[o.SPM_URL]=n.spm_url||""),n.spm_pre&&(v[o.SPM_PRE]=n.spm_pre||""),v.cna=s.cna,v.lver=l.lver,v.jsver=l.jsver,i.hasOwnProperty("autosend")&&(v.autosend=i.autosend);var m=t.getMetaInfo("aplus-utparam");return m&&(v["utparam-cnt"]=JSON.stringify(m)),v},run:function(){var e=this.options.context||{},t=e.what_to_send||{};t.pvdataToUt=this.getToUtData(),this.options.context.what_to_send=t}}}},function(e,t,n){"use strict";var a=n(15),o=n(77),r=n(21),i=n(2),s=n(3);e.exports=function(){return{getToNativeData:function(){var e=i.getGlobalValue(s.APLUS),t=this.options.context||{},n=t.userdata||{},u=t.etag||{},c=t.what_to_send||{},l=c.logdata||{},p=l.sdk_info||{},f={},d={},g={};if(d.cna=u.cna,d.lver=p.lver,d.jsver=p.jsver,d.id=n.logkey||"-",d.ts=Date.now(),d.is_h5="1",d.funcId=l.event_code,n.gokey)switch(typeof n.gokey){case"string":d.is_auto=!!n.gokey.match("is_auto");break;case"object":d.is_auto=n.gokey.is_auto;break;default:d.is_auto=0}else d.is_auto=0;g="string"==typeof n.gokey?r.arr2obj(r.param2arr(n.gokey||"")):a.cloneDeep(o.deleteInfo(n.gokey,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick"])),l.url&&(d.page_name=e.getPageName()||g.spmB||g["data-pagename"]||g.page_name||l.url||"-",d.url=l.url||"-",d.page_name&&g.spmC&&(d["spm-cnt"]=[encodeURIComponent(d.page_name),encodeURIComponent(g.spmC),encodeURIComponent(g.spmD)].filter(function(e){return!!e}).join("."),delete g.spmC,delete g.spmB,delete g.spmD)),g.ts&&delete g.ts;var _=a.cloneDeep(g);for(var h in _)"string"==typeof h&&o.startsWith(h,"_")&&(d[h]=_[h],delete g[h]);return f.sdkArgs=a.cloneDeep(d),f.cusp=g,f},run:function(){var e=this.options.context||{},t=e.what_to_send||{};t.hjljdataToUmNative=this.getToNativeData(),this.options.context.what_to_send=t}}}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(107)(this.options.context.logConfig)}}}},function(e,t,n){"use strict";var a=n(45),o=n(2);e.exports=function(e){var t=o.getGlobalValue("aplus");if(!t._aplus_api){t._aplus_api={status:"complete"};var r=n(108).run.create({logConfig:e});for(var i in r)t[i]=r[i];n(113).makePVId();var s=["aplusReady","complete"];a.doPubMsg(s),a.doCachePubs(s)}}},function(e,t,n){"use strict";function a(){var e=5e3;try{var t=f.getGlobalValue("aplus"),n=t.getMetaInfo("aplus-mmstat-timeout");if(n){var a=parseInt(n);a>=1e3&&a<=1e4&&(e=a)}}catch(e){}return e}function o(e,t,n){var a=e[0],o=e[1],r=(n||{}).spm,i=(n||{}).logkey,s=1;if(r&&r[a]){var u=r[a];s=u.cp,u[o]&&(s=u[o].cp)}else i&&i[t]&&(s=i[t]);var c=Math.ceil(Math.random()*Math.floor(1/s));return c}var r=document,i=n(31),s=n(7),u=n(68),c=n(12),l=n(45),p=n(15),f=n(2),d=n(25),g=n(3),_=n(37),h=n(109),v=n(11),m=n(99),y=n(41),b=n(112),w=[],E=[],A=[],S=[],T=function(){};t.run=i.extend({beforeSendPV:function(e){w.push(e)},afterSendPV:function(e){E.push(e)},send:function(e,t,n){var o,r=f.getGlobalValue("aplus");if(0===e.indexOf("//")){var i=g.HTTPS;/(\d+\.){3,}\d+/.test(e)&&(i="http:"),e=i+e}return o="POST"===n&&navigator&&navigator.sendBeacon?b.postData(e,t):b.sendImg(e+"?"+t,a()),r.req=o,o},sendPV:function(e,t){if(e=e||{},p.any(w,function(t){return t(n,e)===!1}))return!1;var n=f.getGlobalValue("aplus"),a=n.getMetaInfo(g.APLUS_SKIP_APV_RULES)||[];if(!v.itemMatch(a,location.href)||!e.is_auto){var o=new h;e.recordType="PV";var r=n.globalConfig.isUM,i=n.globalConfig.isAli;(i||r)&&"GET"!==e.method&&(e.method="POST");var s=n.logConfig.pv;return o.run({plugins:s.plugins,context:p.cloneDeep(s.context)},{config:e,userdata:t,pubsubType:"pv",messageFnQueue:E,middlewareMessageKey:"mw_change_pv"}),!0}},pageEnter:function(e){_.pushIntoGoldlogQueue(g.PUBLISH,[g.PAGE_ENTER,e]),_.pushIntoGoldlogQueue(g.CACHE_PUBS,[g.PAGE_ENTER,e])},getParam:function(e){var t=window.WindVane||{},n=t&&"function"==typeof t.getParam?t.getParam(e):"";return n},beforeRecord:function(e){A.push(e)},afterRecord:function(e){S.push(e)},record:function(e,t,n,a,r){var i=f.getGlobalValue("aplus"),s=i.globalConfig.isAli,u=i.globalConfig.isUM;if(e&&0!==e.indexOf("/")&&s&&(e="/"+e),p.any(A,function(e){return e(i)===!1}))return!1;var c=1,l=i.spm_ab instanceof Array;if(s&&l&&i.spm_ab.length>1&&(c=o(i.spm_ab,e,i.getMetaInfo("aplus-report-rate"))),1===c){var g=new h,_=i.logConfig.hjlj;return u?(m.canToSendHJLJ(n,e)&&g.run({plugins:_.plugins,context:p.cloneDeep(_.context)},{config:{recordType:"COMMON_HJLJ",method:u?a||"POST":a},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:S,middlewareMessageKey:"mw_change_hjlj"},function(){d(r)&&r()}),!0):(g.run({plugins:_.plugins,context:p.cloneDeep(_.context)},{config:{recordType:"COMMON_HJLJ",method:u?a||"POST":a},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:S,middlewareMessageKey:"mw_change_hjlj"},function(){d(r)&&r()}),!0)}return!1},recordUdata:function(e,t,n,a,o){var r=f.getGlobalValue("aplus"),i=new h,s=r.logConfig.hjlj,u=r.globalConfig.isAli;return i.run({plugins:s.plugins,context:p.cloneDeep(s.context)},{config:{recordType:"DATACLICK_HJLJ",method:u?a:a||"POST"},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:S,middlewareMessageKey:"mw_change_hjlj"},function(){d(o)&&o()}),!0},setPageSPM:function(e,t,n){var a=f.getGlobalValue("aplus"),o=a.getMetaInfo("aplus-spm-fixed"),r="function"==typeof n?n:function(){};a.spm_ab=a.spm_ab||[];var i=p.cloneDeep(a.spm_ab);e&&(a.spm_ab[0]=""+e,a._$.spm.data.a=""+e),t&&(a.spm_ab[1]=""+t,a._$.spm.data.b=""+t);var s=y.qGet();if(a.spmAPI&&a.spmAPI.spaInit(a,s,i),"1"!==o){var u=i.join(".");a.spmab_pre=u}var c=["setPageSPM",{spmab_pre:a.spmab_pre,spmab:a.spm_ab.join(".")}];l.doPubMsg(c),l.doCachePubs(c),r()},setMetaInfo:function(e,t,n){var a,o,r="OVERWRITE",i=r;if("object"==typeof e?(a=e.metaName,o=e.metaValue,i=e.mode||r):(a=e,o=t),i!==r)return this.appendMetaInfo(a,o);if(y.setMetaInfo(a,o,n)){var s=f.getGoldlogVal("_$")||{};s.meta_info=y.qGet();var u=f.setGoldlogVal("_$",s),c=["setMetaInfo",a,o,n];return l.doPubMsg(c),l.doCachePubs(c),u}},appendMetaInfo:y.appendMetaInfo,updatePageProperties:function(e){var t=f.getGlobalValue("aplus");e&&"object"==typeof e?(e._page&&(e.pageName=e._page,t.setMetaInfo("aplus-pagename",e.pageName),delete e._page),t.appendMetaInfo("aplus-cpvdata",e)):c().w("warning: typeof updatePageProperties's params must be object")},updateNextPageProperties:function(e){var t=f.getGlobalValue("aplus");"object"==typeof e?t.appendMetaInfo("aplus-nextpage-properties",e):c().w("warning: typeof updateNextPageProperties's params must be object")},getMetaInfo:function(e){return y.getMetaInfo(e)},on:u.on,cloneDeep:p.cloneDeep,setCookie:s.setCookie,getCookie:s.getCookie,pageAppear:T,pageDisappear:T,updatePageUtparam:T,updateNextPageUtparam:T,updateSessionProperties:function(e){var t=f.getGlobalValue("aplus");"object"==typeof e&&t.setMetaInfo("_session_args",e)},setPageName:function(e){if(!e||"string"!=typeof e)return void c().w("setPageName failed:  pagename="+e);var t=r.querySelector("body");try{t.setAttribute("data-pagename",e)}catch(e){c().w("setPageName failed:  err="+e)}},getPageName:function(){return window.document.body&&window.document.body.dataset&&window.document.body.dataset.pagename?window.document.body.dataset.pagename:""},getElementSPM:function(e){if(e&&e.dataset)return e.getAttribute("data-spm-anchor-id")},recordAppLink:function(e,t,n){if(!e.targetAppKey)return c().w("send $$_app_link failed: targetAppKey is null"),!1;var a=f.getGlobalValue("aplus");return a.record("$$_app_link","OTHER",e,t,n)}})},function(e,t,n){"use strict";var a=n(8),o=n(2),r=n(25),i=n(45),s=n(43),u=n(3),c=n(110),l=n(111),p=function(){};p.prototype.run=function(e,t,n){var p=new l;p.init({middleware:[],config:t.config,plugins:e.plugins});var f=p.run(),d=r(e.context)?new e.context:e.context;d.userdata=t.userdata,d.logger=s.logger;var g={context:d,pubsub:o.getGoldlogVal("aplus_pubsub"),pubsubType:t&&t.pubsubType},_=new c;_.create(g),_.wrap(f,function(){g.context.status=u.COMPLETE,t&&(t.middlewareMessageKey&&i.doPubMsg([t.middlewareMessageKey,g.context]),t.messageFnQueue&&a(t.messageFnQueue,function(t){t(o.getGlobalValue(u.APLUS),e)})),r(n)&&n(g.context)})()},e.exports=p},function(e,t,n){"use strict";function a(){}var o=n(25),r=n(11),i=n(12);a.prototype.create=function(e){for(var t in e)"undefined"==typeof this[t]&&(this[t]=e[t]);return this},a.prototype.calledList=[],a.prototype.setCalledList=function(e){r.indexof(this.calledList,e)===-1&&this.calledList.push(e)},a.prototype.resetCalledList=function(){this.calledList=[]},a.prototype.wrap=function(e,t){var n=this,a=this.context||{},s=a.compose||{},u=s.maxTimeout||1e4;return function(a){var s,c=e.length,l=0,p=0,f=function(d,g){if(l===c)return a="done",n.resetCalledList(),o(t)&&g!==a&&t.call(n,a),void clearTimeout(s);if(r.indexof(n.calledList,l)===-1){if(n.setCalledList&&n.setCalledList(l),!(e&&e[l]&&o(e[l][0])))return;try{a=e[l][0].call(n,a,function(){l++,p=1,f(l)})}catch(e){i().w(e)}}var _="number"==typeof a;if("pause"===a||_){p=0;var h=_?a:u,v=e[l]?e[l][1]:"";s=setTimeout(function(){0===p&&(i().w("jump the middleware about "+v+", because waiting timeout maxTimeout = "+h),a=null,l++,f(l))},h)}else"done"===a?(l=c,f(l,a)):(l++,f(l))};return n.calledList&&n.calledList.length>0&&n.resetCalledList(),f(l)}},e.exports=a},function(e,t,n){"use strict";var a=n(16),o=n(12);e.exports=function(){return{init:function(e){this.opts=e,e&&"object"==typeof e.middleware&&e.middleware.length>0?this.middleware=e.middleware:this.middleware=[],this.plugins_name=[]},pubsubInfo:function(e,t){try{var n=e.pubsub;n&&n.publish("plugins_change_"+e.pubsubType,t)}catch(e){o().w(e)}},run:function(e){e||(e=0);var t=this,n=this.middleware,o=this.opts||{},r=o.plugins;if(r&&"object"==typeof r&&r.length>0){var i=r[e];if(this.plugins_name.push(i.name),n.push([function(e,n){t.pubsubInfo(this,i);var r=new i.path;return r.init||(r.init=function(e){this.options=e}),r.init({context:this.context,config:a(i.config||{},o.config)}),r.run(e,function(e){setTimeout(function(){n(i,e)},1)})},i.name]),e++,r[e])return this.run(e)}return n}}}},function(e,t){"use strict";t.sendImg=function(e,t){var n=window||{},a=new Image,o="_img_"+Math.random();n[o]=a;var r=function(){if(n[o])try{delete n[o]}catch(e){n[o]=void 0}};return a.onload=function(){r()},a.onerror=function(){r()},setTimeout(function(){window[o]&&(window[o].src="",r())},t||5e3),a.src=e,a=null,e},t.postData=function(e,t){return navigator.sendBeacon(e,t),e}},function(e,t,n){"use strict";function a(){var e,t=i.getGlobalValue("aplus");try{var n=t.getMetaInfo("aplus-disable-pvid")+"";"true"===n?e=!0:"false"===n&&(e=!1)}catch(e){}return e}function o(){var e=i.getGlobalValue("aplus");return a()?"":e.pvid}var r=n(45),i=n(2),s=n(89);t.isDisablePvid=a,t.makePVId=function(){var e=i.getGlobalValue("aplus"),t=e.pvid,n=location&&location.href,u=document&&document.title;e.pvid=s.getLogId(n,u),e.getPvId=o;var c=["pvidChange",{pre_pvid:t,pvid:e.pvid}];return r.doPubMsg(c),r.doCachePubs(c),a()?"":e.pvid},t.getPvId=o},function(e,t,n){var a=n(68),o=n(94),r=n(6),i=n(16),s=n(7),u=n(19),c=n(3),l=n(115);e.exports=function(){return{ABFPC:"_abfpc",CNA:"cna",VERSION:"2.0",gl:"",canvas:"",writeCookie:function(e,t){try{var n=new Date;n.setTime(n.getTime()+31536e6),s.setCookie(e,t,{SameSite:!0,expires:"expires="+n.toString()})}catch(e){console.log(e)}},trySyncFp:function(){var e=this.tryGetStoreValue(this.ABFPC);this.syncLS2Cookie(this.ABFPC,e)},tryGetStoreValue:function(e){var t=r.get(e),n=s.getCookie(e);return{LSValue:t,cookieValue:n}},getClientInfo:function(){var e={};try{e=goldlog?goldlog._aplus_client:{}}catch(e){}return e},hasUsableSWF:function(){var e;try{e="undefined"!=typeof window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"]}catch(e){}return e?"true":"false"},getCanvas:function(){try{this.canvas||(this.canvas=document.createElement("canvas"))}catch(e){}return this.canvas},getWebGl:function(){try{var e=this.getCanvas();!this.gl&&e&&(this.gl=window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(e){}return this.gl},initUint8ArrayHashCode2:function(){Uint8Array.prototype.hashCode2||(Uint8Array.prototype.hashCode2=function(){var e,t,n,a=0;if(0===this.length)return a;for(e=0,n=this.length;e<n;e++)t=this[e],a=(a<<5)-a+t,a|=0;return a})},getWebGlPrinting:function(){var e=this.getWebGl();if(e)try{this.initUint8ArrayHashCode2();var t,n,a=e.getExtension("WEBGL_debug_renderer_info");return a?(t=e.getParameter(a.UNMASKED_VENDOR_WEBGL),n=e.getParameter(a.UNMASKED_RENDERER_WEBGL)):(t="No debug Info",
n="No debug Info"),{myGl:e,ven:t,ren:n}}catch(e){}},getResolution:function(){var e=1,t=screen.width*e,n=screen.height*e,a=screen.colorDepth+"_"+Math.round(t)+"_"+Math.round(n)+"_"+e+"_"+screen.width+"_"+screen.height+"_"+screen.colorDepth;return a},generateWebGlPrint:function(){var e="",t=this.getWebGl();if(t){try{var n="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",a="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o);var r=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),o.itemSize=3,o.numItems=3;var i=t.createProgram(),s=t.createShader(t.VERTEX_SHADER);t.shaderSource(s,n),t.compileShader(s);var u=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(u,a),t.compileShader(u),t.attachShader(i,s),t.attachShader(i,u),t.linkProgram(i),t.useProgram(i),i.vertexPosAttrib=t.getAttribLocation(i,"attrVertex"),i.offsetUniform=t.getUniformLocation(i,"uniformOffset"),t.enableVertexAttribArray(i.vertexPosArray),t.vertexAttribPointer(i.vertexPosAttrib,o.itemSize,t.FLOAT,!1,0,0),t.uniform2f(i.offsetUniform,1,1),t.drawArrays(t.TRIANGLE_STRIP,0,o.numItems),e=t.canvas.toDataURL()}catch(e){}return e}},audioFingerPrinting:function(){try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.destination;return e.sampleRate.toString()+"_"+t.maxChannelCount+"_"+t.numberOfInputs+"_"+t.numberOfOutputs+"_"+t.channelCount+"_"+t.channelCountMode+"_"+t.channelInterpretation}catch(e){return"not supported"}},getPluginsPrinting:function(){var e="";if(navigator&&navigator.plugins){for(var t=navigator.plugins.length,n=0;n<t;n++)e+=navigator.plugins[n].name+"_";e=e.replace(/[^a-zA-Z ]/g,"")}return e},checkIsTouch:function(){try{return"ontouchend"in document.createElement("div")?"true":"false"}catch(e){}},generateFp:function(){var e=this.getWebGlPrinting()||{},t=s.getData(),n=o.getExparamsInfos(),a=aplus.getMetaInfo("_user_id")||aplus.getMetaInfo("_dev_id")||aplus.getMetaInfo("_anony_id"),u=n.uidaplus||(new Date).getTime(),c=l.getCanvasHash(),p=i(this.getClientInfo(),{WebGL:this.gl?"true":"false",webglPrint:this.generateWebGlPrint(),adBlock:"No",audio:this.audioFingerPrinting(),cookieEnabled:navigator?!!navigator.cookieEnabled:"false",cpu_cores:navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:-1,fontlist:this.hasUsableSWF(),gpu:e.ren,hash:e.hash,inc:e.inc,isSupportLS:r.test()?"true":"false",plugins:this.getPluginsPrinting(),resolution:this.getResolution(),timezone:-(new Date).getTimezoneOffset()/60,isTouch:this.checkIsTouch(),lang:navigator?navigator.language:"",tracknick:t.tracknick||n.pu_i||a||u}),f=[c];for(var d in p)p[d]&&f.push(p[d]);var g=l.calcSHA1(f.join("_"))+"_"+this.VERSION;return r.set(this.ABFPC,g),this.writeCookie(this.ABFPC,g),g},syncCNA:function(e,t){var n=u.loadScript,a=aplus.getMetaInfo("aplus-rhost-v");a&&n(location.protocol+"//"+a+"/pbe.js?_abfpc="+e,t)},syncLS2Cookie:function(e,t){var n=t.LSValue,a=t.cookieValue;n&&n!==a&&this.writeCookie(e,n),a&&!n&&r.set(e,a)},updateGlobalData:function(e){e&&e._abfpc&&(e._abfpc=e._abfpc.replace("_"+this.VERSION,"")),aplus.appendMetaInfo("aplus-globaldata",e)},run:function(){var e=this,t=e.tryGetStoreValue(e.ABFPC),n=e.tryGetStoreValue(e.CNA);e.syncLS2Cookie(this.ABFPC,t),e.syncLS2Cookie(this.CNA,n);var o=t.LSValue||t.cookieValue,i=n.LSValue||n.cookieValue;if(o||(o=e.generateFp()),o=o.replace("_"+e.VERSION,""),o&&aplus&&aplus.appendMetaInfo){var s={_abfpc:o};i&&(s.cna=i),e.updateGlobalData(s)}a.on(window,"beforeunload",function(){e.trySyncFp()}),i||setTimeout(function(){aplus_queue.push({action:c.SUBSCRIBE,arguments:["aplusReady",function(t){"complete"===t&&e.syncCNA(o,function(){var t=goldlog.cna;t&&(e.updateGlobalData({_abfpc:o,cna:t}),r.set(e.CNA,t),e.writeCookie(e.CNA,t))})}]})},300)}}}},function(e,t){function n(e){for(var t="",n=7;n>=0;n--)t+=c.charAt(e>>4*n&15);return t}function a(e){for(var t=(e.length+8>>6)+1,n=new Array(16*t),a=0;a<16*t;a++)n[a]=0;var o;for(o=0;o<e.length;o++)n[o>>2]|=e.charCodeAt(o)<<24-o%4*8;return n[o>>2]|=128<<24-o%4*8,n[16*t-1]=8*e.length,n}function o(e,t){var n=(65535&e)+(65535&t),a=(e>>16)+(t>>16)+(n>>16);return a<<16|65535&n}function r(e,t){return e<<t|e>>>32-t}function i(e,t,n,a){return e<20?t&n|~t&a:e<40?t^n^a:e<60?t&n|t&a|n&a:t^n^a}function s(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function u(e){for(var t=a(e),u=new Array(80),c=1732584193,p=-271733879,f=-1732584194,d=271733878,g=-1009589776,_=0;_<t.length;_+=16){for(var h=c,v=p,m=f,y=d,b=g,w=0;w<80;w++){w<16?u[w]=t[_+w]:u[w]=r(u[w-3]^u[w-8]^u[w-14]^u[w-16],1);var E=o(o(r(c,5),i(w,p,f,d)),o(o(g,u[w]),s(w)));g=d,d=f,f=r(p,30),p=c,c=E}c=o(c,h),p=o(p,v),f=o(f,m),d=o(d,y),g=o(g,b)}return l(n(c)+n(p)+n(f)+n(d)+n(g))}var c="0123456789abcdef",l=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},p=function(){var e="Not supported";try{var t=document.createElement("canvas"),n=t.getContext("2d");t.style.display="inline",n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),n.fillStyle="rgba(102, 204, 0, 0.7)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),e=t.toDataURL()}catch(e){}return e};t.calcSHA1=u,t.getCanvasHash=function(){var e;e||(e=p());var t=u(e);return l(t)}},function(e,t,n){"use strict";var a=n(117),o=n(2);e.exports=function(){return{run:function(){var e=this.options.context.aplus_config,t=e.globalConfig.APLUS_QUEUE,n=o.getContext(),r=n[t]||[],i=a.getFormatQueue(r,"metaQueue");n[t]=i.queue,a.processGoldlogQueue(i.formatQueue,this.options.config)}}}},function(e,t,n){function a(){var e=u.getGoldlogVal("_$")||{},t=e.meta_info;return t}function o(){var e=a()||{},t=e.uaid+"";return"1"!==t||e._anony_id?e._hold||e["aplus-waiting"]:"BLOCK"}function r(e){var t=o(),n=a()||{},r=!0,i=e.arguments||[],s=i[0],u=i[1],c="START";if("_hold"===s&&u===c)return c;if("_anony_id"===s&&u)return c;if(e&&/sendPV|record|setPageSPM|setMetaInfo|appendMetaInfo$/.test(e.action))switch(t){case"BLOCK":n[t]||(h.push(e),r=!1)}return r}function i(e){d(g,e),d(_,e),d(h,e)}function s(e,t){return t&&f.openAPIs.indexOf(e)>-1&&(e="_"+e),e}var u=n(2),c=n(11),l=n(25),p=n(12),f=n(3),d=function(e,t){function n(){if(e&&c.isArray(e)&&e.length){for(var n=m(e).queue,a={},o=[];a=n.shift();)v(a,t,function(e){o.push(e)});o.length>0&&setTimeout(function(){for(;a=o.shift();)v(a,t)},100)}}try{n()}catch(e){p().w(e)}};t.processGoldlogQueue=d;var g=[],_=[],h=[];t.subscribeAndProcessQueue=function(e,t){var n=u.getGlobalValue(e);n.push({action:f.SUBSCRIBE,arguments:[f.SET_META_INFO,function(e,n){e===f._USER_ID&&n?d(g,t):e===f._ANONY_ID&&n?d(_,t):"_hold"===e&&"START"===n&&i(t)}]})};var v=function(e,t,n){var a=!!t.isOpenApi,o=e?e.action:"",f=e?e.arguments:"",d=r(e);if(d){var g=u.getContext();try{if(o&&f&&c.isArray(f)){var _,h=o.split("."),v=g,m=g;if(3===h.length)v=g[h[0]][h[1]]||{},_=s(h[2],a),m=v[_]?v[_]:"";else for(;h.length;)if(_=s(h.shift(),a),m=v=v[_],!v)return void(l(n)&&n(e));l(m)&&m.apply(v,f),"START"===d&&i(t)}}catch(e){p().w(e)}}};t.processTask=v;var m=function(e,t){for(var n={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]},a=[],o={};o=e.shift();)try{var r=o.action,i=o.arguments[0];/subscribe/.test(r)?"setMetaInfo"===i?n.subscribeMetaQueue.push(o):i===f.MW_CHANGE_PV||i===f.MW_CHANGE_HJLJ?n.subscribeMwChangeQueue.push(o):n.subscribeQueue.push(o):/MetaInfo/.test(r)?n.metaQueue.push(o):n.othersQueue.push(o)}catch(e){p().w(e),n.othersQueue.push(o)}var s;return t&&n[t]&&(s=n[t],n[t]=[]),a=n.subscribeMwChangeQueue.concat(n.metaQueue),a=a.concat(n.subscribeQueue),a=a.concat(n.subscribeMetaQueue,n.othersQueue),{queue:a,formatQueue:s}};t.getFormatQueue=m},function(e,t,n){"use strict";function a(e){var t=e.Promise,n=e.document,a=e.navigator.userAgent,r=/Windows\sPhone\s(?:OS\s)?[\d\.]+/i.test(a)||/Windows\sNT\s[\d\.]+/i.test(a),i=/iPhone|iPad|iPod/i.test(a),s=/Android/i.test(a),u=Math.floor(65536*Math.random()),c=1,l=[],p=3,f="iframe_",d="param_",g=6e5,_=6e4,h={trace:function(e,t,n,a,o){return h.call(e,t,n,a,o)},call:function(e,n,a,o,r){var i,s;"number"==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1]),"function"!=typeof a&&(a=null),!t||a||o||(s=new t(function(e,t){a=e,o=t})),i=v.getSid();var u={success:a,failure:o};return r>0&&(u.timeout=setTimeout(function(){h.onFailure(i,{ret:"HY_TIMEOUT"})},r)),v.registerCall(i,u),v.registerGC(i,r),v.evokeNative(e,n,i),s},fireEvent:function(e,t){var a=n.createElement("HTMLEvents");a.initEvent(e,!1,!0),a.param=v.parseData(t),n.dispatchEvent(a)},getParam:function(e){return v.getParam(e)},setData:function(){},find:function(e,t){t||v.unregisterCall(e,!1)},onSuccess:function(e,t,n){v.onComplete(e,t,"success",n)},onFailure:function(e,t){v.onComplete(e,t,"failure")}},v={params:{},calls:{},getSid:function(){return(u+c++)%65536+""},buildParam:function(e){return e&&"object"==typeof e?JSON.stringify(e):e||""},getParam:function(e){return this.params[d+e]||""},setParam:function(e,t){this.params[d+e]=t},parseData:function(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(n){t={ret:"HY_RESULT_PARSE_ERROR",originValue:e}}else t=e||{};return t},registerCall:function(e,t){this.calls[e]=t},unregisterCall:function(e,t){var n=this.calls[e]||{},a=n.timeout;return a&&clearTimeout(a),t||delete this.calls[e],n},useIframe:function(e,t){var a=f+e,o=l.pop();o||(o=n.createElement("iframe"),o.setAttribute("frameborder","0"),o.style.cssText="width:0;height:0;border:0;display:none;"),o.setAttribute("id",a),o.setAttribute("src",t),o.parentNode||setTimeout(function(){n.body.appendChild(o)},5)},retrieveIframe:function(e){var t=f+e,a=n.querySelector("#"+t);if(a)if(l.length>=p)try{n.body.removeChild(a)}catch(e){}else l.indexOf(a)<0&&l.push(a)},evokeNative:function(e,t,n){var a={className:"Umeng4Aplus",methodName:e,sid:n,callback:"",params:t},u=JSON.stringify(a);r?this.onComplete(n,{ret:"HY_NO_HANDLER_ON_WP"},"failure"):i?window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.Umeng4Aplus&&window.webkit.messageHandlers.Umeng4Aplus.postMessage?(o().i("jsbridge native 透传日志: "+u),window.webkit.messageHandlers.Umeng4Aplus.postMessage(u)):o().w("jsbridge iOS environment error, Umeng4Aplus = ",void 0):s?window.Umeng4Aplus?window.Umeng4Aplus.CALL?(o().i("jsbridge native 透传日志: "+u),window.Umeng4Aplus.CALL(u)):window.Umeng4Aplus.call?(o().i("jsbridge native 鸿蒙透传日志: "+u),window.Umeng4Aplus.call(u)):o().w("jsbridge Android environment error, Umeng4Aplus exists, but method not found"):o().w("jsbridge Android environment error, Umeng4Aplus = ",window.Umeng4Aplus):this.onComplete(n,{ret:"HY_NOT_SUPPORT_DEVICE"},"failure")},registerGC:function(e,t){var n=this,a=Math.max(t||0,g),o=Math.max(t||0,_);setTimeout(function(){n.unregisterCall(e)},a),i&&setTimeout(function(){n.params[d+e]&&delete n.params[d+e]},o)},onComplete:function(e,t,n,a){var o=this.unregisterCall(e,a),r=o.success,s=o.failure;t=this.parseData(t);var u=t.ret;"string"==typeof u&&(t=t.value||t,t.ret||(t.ret=[u])),"success"===n?r&&r(t):"failure"===n&&s&&s(t),i&&(this.retrieveIframe(e),this.params[d+e]&&delete this.params[d+e])}};return h}var o=n(12);e.exports=function(){return{subscribeLogs:function(e,t){aplus.aplus_pubsub.subscribe(e,function(e){"complete"===e.status&&t(e)})},isJsBridgeReady:function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.Umeng4Aplus&&window.webkit.messageHandlers.Umeng4Aplus||window.Umeng4Aplus},callUT:function(e,t){t._bridgeName=this.options.bridgeName||"AtmBridge",t._bridgeVersion=this.options.bridgeVersion||"1.0.0";try{window.AtmBridge.trace(e,t,function(e){o().i("SUCCESS:",e)},function(e){o().w("FAILURE:",e)})}catch(e){o().w(e)}},callMergeToNativeGP:function(e,t){o().i("当前透传全局属性: "+JSON.stringify(t))},watchLOG:function(){var e=this;e.subscribeLogs("mw_change_pv",function(t){var n=t.what_to_send||{},a=n.pvdataToUmNative||{};e.callUT("sendPV",a)}),e.subscribeLogs("mw_change_hjlj",function(t){var n=t.what_to_send||{},a=n.hjljdataToUmNative||{};e.callUT("sendEvent",a)})},run:function(){if(!window.AtmBridge){var e=a(window);window.AtmBridge=e}window.AtmBridge&&this.watchLOG()}}}},function(e,t,n){"use strict";var a=n(31),o=n(2),r=n(117),i=a.extend({push:function(e){this.length++,r.processTask(e,this.opts)}});e.exports=function(){return{processAplusQueue:function(e){var t=this.options.config||{},n=o.getGlobalValue(e);r.processGoldlogQueue(n,t),o.setGlobalValue(e,i.create({opts:t,startLength:n.length,length:0}))},run:function(){var e=this.options.context.aplus_config,t=e.globalConfig.APLUS_QUEUE;this.processAplusQueue(t),"aplus_queue"===t&&this.processAplusQueue("goldlog_queue"),r.subscribeAndProcessQueue(t,this.options.config)}}}},function(e,t,n){"use strict";var a=n(8),o=n(19),r=n(11);e.exports=function(){return{init:function(e){this.options=e},addStyle:function(e,t){var n=e+"_style",a=document.getElementById(n);a||(a=document.createElement("link"),a.id=n,a.href=t,a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head").item(0).appendChild(a))},run:function(){var e=this,t=parent!==self,n=this.options.config||{};!t&&n.urlRules&&a(n.urlRules,function(t){var n,i=new RegExp(t.rule);try{n=t.id?window.sessionStorage.getItem(t.id):""}catch(e){}if(i.test(location.href)||n){try{window.sessionStorage.setItem(t.id,!0)}catch(e){}r.isArray(t.cdnPath)?a(t.cdnPath,function(n){/\.css$/.test(n)?e.addStyle(t.id,n):/\.js/.test(n)&&o.addScript(n)}):o.addScript(t.cdnPath)}})}}}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){aplus._aplus_vt_cfg||n(122)()}}}},function(e,t,n){"use strict";function a(){var e=window.aplus_queue||(window.aplus_queue=[]);e.push({action:"aplus.sendPV",arguments:[{is_auto:!1,track_type:"1"},{}]})}function o(){aplus._aplus_apv?aplus._aplus_apv={status:"complete"}:a()}var r=n(36);e.exports=function(){o(),r.watchHistoryChange(a),r.watchHashChange(a)}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(124)()}}}},function(e,t,n){function a(){var e=[],t=aplus.getMetaInfo(l.APLUS_AUTOTRACK_CONFIG);return t&&t.collect_tags&&d.isObject(t.collect_tags)&&_(t.collect_tags,function(t,n){n&&e.push(t)}),e}function o(){return aplus.getMetaInfo(l.APLUS_AUTOTRACK_CONFIG_REMOTE)||[]}function r(e){var t=e;if("object"!=typeof t)return null;if("string"!=typeof t.tagName)return null;var n=t.tagName.toLowerCase();if("body"===n.toLowerCase()||"html"===n.toLowerCase())return null;if(!t||!t.parentNode||!t.parentNode.children)return null;var r=t.parentNode,i=a(),s=o();if(p.hasAttribute(e,"aplus-autotrack-off"))return null;if(!(s.length>0&&g.indexof(s,n)>-1)){if("a"===n||"button"===n||"input"===n||"textarea"===n)return t;if(g.indexof(i,n)>-1)return t;if("button"===r.tagName.toLowerCase()||"a"===r.tagName.toLowerCase())return r;var u=p.getPrev(r);return"area"===n&&"map"===r.tagName.toLowerCase()&&u.tagName&&"img"===u.tagName.toLowerCase()?u:null}}function i(e){var t=window.aplus_queue||(window.aplus_queue=[]),n=null;e["clk-logkey"]&&(n=e["clk-logkey"],delete e["clk-logkey"]);var a=n||m.hash(y.getAppKey())+m.hash(e.ap.element_path,y.getAppKey());t.push({action:"aplus.record",arguments:[a,"CLK",e||{}]})}function s(e){var t={is_auto:1,auto_element:1};try{if(e&&e.hasAttributes)for(var n=e.attributes,a=0;a<n.length;a++){var o=n[a].name||"",r=n[a].value;if(o&&o.indexOf("data-")>-1){var i=o.toLowerCase().replace(/^data-/,"");t[i]=encodeURIComponent(r)}}}catch(e){h().w(e&&e.message)}return t}function u(e){var t=s(e);return e&&(t=v(t,{ap:{element_type:e.tagName.toLowerCase(),element_name:e.getAttribute&&e.getAttribute("name")||"",element_id:e.getAttribute&&e.getAttribute("id")||"",element_class_name:"string"==typeof e.className?e.className:"",element_content:p.getElementContent(e,e.tagName)||"",element_selector:p.getDomSelector(e)||"",element_path:p.getElementPath(e)}})),t}function c(){function e(e){if(!e)return!1;var t=e.target,n=r(t);n&&i(u(t))}f.addHandler(document,f.clickEvent(),e),document.addEventListener("unload",function(){f.removeHandler(document,f.clickEvent(),e)},!1)}var l=n(3),p=n(125),f=n(126),d=n(127),g=n(11),_=n(51),h=n(12),v=n(16),m=n(55),y=n(21);e.exports=function(){var e=window.aplus||(window.aplus={});e._autotracked_enable||(e._autotracked_enable=!0,c())}},function(e,t,n){function a(e){return e&&e.id&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.id)}function o(e){var t=[];if(!e)return"";for(;e.parentNode;){if(a(e)){t.unshift(e.tagName.toLowerCase()+"#"+e.id);break}if(e===document.body){t.unshift("body");break}e.tagName&&e.tagName.toLowerCase&&(t.unshift(e.tagName.toLowerCase()),e=e.parentNode)}return t.join(" > ")}function r(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}t.siblings=function(e,t){return"nextSibling"===t?e.nextSibling:"previousSibling"===t?e.previousSibling:null},t.sibling=function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},t.previousElementSibling=function(e){var t=e;if("previousElementSibling"in document.documentElement)return this.getPrev(t);for(;t.previousSibling;)if(t=t.previousSibling,1===t.nodeType)return t;return null},t.getSameTypeSiblings=function(e){for(var t=e,n=t.parentNode,a=t.tagName.toLowerCase(),o=[],r=0;r<n.children.length;){var i=n.children[r];1===i.nodeType&&i.tagName.toLowerCase()===a&&o.push(n.children[r]),r++}return o},t.getNext=function(e){return this.sibling(e,"nextSibling")},t.getPrev=function(e){return this.sibling(e,"previousSibling")},t.indexOf=function(e,t){var n=e.indexOf;if(n)return n.call(e,t);for(var a=0;a<e.length;a++)if(t===e[a])return a;return-1},t.getClosestLi=function(e){return function(e,t){for(;e&&e!==document&&1===e.nodeType;e=e.parentNode)if(e.tagName.toLowerCase()===t)return e;return null}(e,"li")},t.getElementPath=o,t.getDomIndex=function(e){if(!e.parentNode)return-1;for(var t=0,n=e.tagName.toLowerCase(),a=e.parentNode.children,o=0;o<a.length;){if(a[o].tagName.toLowerCase()===n){if(e===a[o])return t;t++}o++}return-1},t.selector=function(e){var t=e.parentNode&&9===e.parentNode.nodeType?-1:this.getDomIndex(e);return e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))?"#"+e.getAttribute("id"):e.tagName.toLowerCase()+(~t?":nth-of-type("+(t+1)+")":"")},t.getDomSelector=function(e,t){if(!e||!e.parentNode||!e.parentNode.children)return null;t=t&&t.join?t:[];var n=e.nodeName.toLowerCase();return"body"!==n&&1===e.nodeType?(t.unshift(this.selector(e)),e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))?t.join(" > "):this.getDomSelector(e.parentNode,t)):(t.unshift("body"),t.join(" > "))};var i=n(11);t.hasAttributes=function(e,t){if("string"==typeof t)return this.hasAttribute(e,t);if(i.isArray(t)){for(var n=!1,a=0;a<t.length;a++)if(this.hasAttribute(e,t[a])){n=!0;break}return n}},t.hasAttribute=function(e,t){if("aplus-autotrack-off"===t){for(var n=e,a=!1;n;){if(n.hasAttribute&&n.hasAttribute(t)){a="true"===n.getAttribute(t);break}n=n.parentNode}return a}return e.hasAttribute?e.hasAttribute(t):!(!e.attributes[t]||!e.attributes[t].specified)},t.getElementContent=function(e,t){var a="";if(e.textContent)a=r(e.textContent);else if(e.innerText)a=r(e.innerText);else if("input"===t||"INPUT"===t){var o=n(3),i=aplus.getMetaInfo(o.APLUS_AUTOTRACK);i.collect_input&&(a=encodeURIComponent(e.value)||"")}else"button"!==e.type&&"submit"!==e.type||(a=e.value||"");return a&&(a=a.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),a}},function(e,t){e.exports={addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},clickEvent:function(){return"ontouchstart"in document.documentElement==!0?"touchstart":"click"}}},function(e,t){t.isObject=function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},t.isEmptyObject=function(e){if(this.isObject(e))for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){var e=window.aplus||(window.aplus={});e._aplus_plugin_xwj||(e._aplus_plugin_xwj={status:"init"},n(129)())}}}},function(e,t,n){"use strict";function a(){function e(){for(var e=I.split("&"),t={},n=0;n<e.length;n++){var a=e[n],o=a.split("=");t[o[0]]=o[1]}return t}function t(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function a(){return d=d||r.getElementsByTagName("head")[0],g||(d?g=d.getElementsByTagName("meta"):[])}function s(e){var n,o,r,i=a(),s=i.length;for(n=0;n<s;n++)if(o=i[n],t(o,"name")===e){r=t(o,"content");break}return r}function u(){return s("ahot-aplus")}function c(){var e=n(2),t=e.getGlobalValue("aplus");return s("aplus-heatmap-enabled")||t.getMetaInfo("aplus-heatmap-enabled")}function l(){var e=n(2),t=e.getGlobalValue("aplus"),a=s("aplus-rate-ahot")||t.getMetaInfo("aplus-rate-ahot");return parseFloat(a||"")}function p(){return s("microscope-data")}var f=6;if(!(o._ap_xwj_heat&&f<=o._ap_xwj_heat.version)){var d,g,_=o.performance||o.mozPerformance||o.msPerformance||o.webkitPerformance||{_na:1},h=location,v=location.href,m=h.hostname,y=o.navigator,b=y.appVersion,w=y?y.userAgent:"",E=u(),A=c(),S=l(),T=p(),P=r.getElementById("beacon-aplus"),I=t(P,"exparams"),C={layout:0,shouldBindMonitor:!1},x={RATE:{RESOURCE_TIMING:isNaN(S)?1:S}},M=function(e){return"number"==typeof e},O=function(e,t){return e.indexOf(t)>-1},k=function(){return O(I,"atp_isdpp")},N=function(){if(E)return!0;var e,t,n=["item.taobao.com","detail.tmall.com","s.taobao.com"];for(t=n.length,e=0;e<t;e++)if(O(m,n[e]))return!1;return!O(v,"/go/act/")&&!k()},R=o.addEventListener?function(e){o.addEventListener("load",e,!1)}:function(){},L=o.attachEvent?function(e){o.attachEvent("onload",e)}:R,U=function(e){var t,n,a,o,i,s,u=r.getElementsByTagName("*");for(t=[];e&&1===e.nodeType;e=e.parentNode)if(e.id){for(s=e.id,o=0,n=0;n<u.length;n++)if(i=u[n],i.id&&i.id===s){o++;break}if(e.tagName.toLowerCase&&t.unshift(e.tagName.toLowerCase()+"[@id='"+s+"']"),1===o)return t.unshift("/"),t.join("/")}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName===e.tagName&&n++;e.tagName.toLowerCase&&t.unshift(e.tagName.toLowerCase()+"["+n+"]")}return t.length?"/"+t.join("/"):null},D=function(e,t,n){var a=Math.max(F.scrollWidth,F.clientWidth),o=F.scrollTop,r=F.scrollLeft,i=t.pageX,s=t.pageY;M(i)||(i=t.clientX+r,s=t.clientY+o);var u,c,l=-1;if(e&&e.getBoundingClientRect&&(c=e.getBoundingClientRect(),l=c.left+r,u=c.top+o),0===n||"0"===n){var p=a>>1;i-=p,l-=p}else 2===n&&(i-=a,l-=a);return{x:i,y:s,ex:l,ey:u,sw:a}},j=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 0===t++?".":""}))},V=function(e,t){var n,a;t[n="trident"]=.1,(a=e.match(/Trident\/([\d.]*)/))&&a[1]&&(t[n]=j(a[1])),t.core=n},G=function(e){var t,n;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(n=t[1]||t[2])?j(n):0},B=function(e){return e||"other"},H=function(e){function t(){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],n=0,a=t.length;n<a;++n)if(e.indexOf(t[n][0])!==-1)return t[n][1];return"other"}function n(e,t,n,a){var r,i=o.navigator.mimeTypes;try{for(r in i)if(i.hasOwnProperty(r)&&i[r][e]===t){if(void 0!==n&&a.test(i[r][n]))return!0;if(void 0===n)return!0}return!1}catch(e){return!1}}var a,i,s,u,c,l,p,f,d="",g=d,_=d,h=[6,9],v="{{version}}",m="<!--[if IE "+v+"]><s></s><![endif]-->",y=r&&r.createElement("div"),w=[],E={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0,extraName:void 0,extraVersion:void 0};if(y&&y.getElementsByTagName&&(y.innerHTML=m.replace(v,""),w=y.getElementsByTagName("s")),w.length>0){for(V(e,E),u=h[0],c=h[1];u<=c;u++)if(y.innerHTML=m.replace(v,u),w.length>0){E[_="ie"]=u;break}!E.ie&&(s=G(e))&&(E[_="ie"]=s)}else(i=e.match(/AppleWebKit\/([\d.]*)/))&&i[1]?(E[g="webkit"]=j(i[1]),(i=e.match(/OPR\/(\d+\.\d+)/))&&i[1]?E[_="opera"]=j(i[1]):(i=e.match(/Chrome\/([\d.]*)/))&&i[1]?E[_="chrome"]=j(i[1]):(i=e.match(/\/([\d.]*) Safari/))&&i[1]&&(E[_="safari"]=j(i[1])),/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)?(E.mobile="apple",i=e.match(/OS ([^\s]*)/),i&&i[1]&&(E.ios=j(i[1].replace("_","."))),a="ios",i=e.match(/iPad|iPod|iPhone/),i&&i[0]&&(E[i[0].toLowerCase()]=E.ios)):/ Android/i.test(e)?(/Mobile/.test(e)&&(a=E.mobile="android"),i=e.match(/Android ([^\s]*);/),i&&i[1]&&(E.android=j(i[1]))):(i=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(E.mobile=i[0].toLowerCase()),(i=e.match(/PhantomJS\/([^\s]*)/))&&i[1]&&(E.phantomjs=j(i[1]))):(i=e.match(/Presto\/([\d.]*)/))&&i[1]?(E[g="presto"]=j(i[1]),(i=e.match(/Opera\/([\d.]*)/))&&i[1]&&(E[_="opera"]=j(i[1]),(i=e.match(/Opera\/.* Version\/([\d.]*)/))&&i[1]&&(E[_]=j(i[1])),(i=e.match(/Opera Mini[^;]*/))&&i?E.mobile=i[0].toLowerCase():(i=e.match(/Opera Mobi[^;]*/))&&i&&(E.mobile=i[0]))):(s=G(e))?(E[_="ie"]=s,V(e,E)):(i=e.match(/Gecko/))&&(E[g="gecko"]=.1,(i=e.match(/rv:([\d.]*)/))&&i[1]&&(E[g]=j(i[1]),/Mobile|Tablet/.test(e)&&(E.mobile="firefox")),(i=e.match(/Firefox\/([\d.]*)/))&&i[1]&&(E[_="firefox"]=j(i[1])));a||(a=t());var A,S;if(!n("type","application/vnd.chromium.remoting-viewer")){A="scoped"in r.createElement("style"),S="v8Locale"in o;try{f=o.external||void 0}catch(e){}if(i=e.match(/360SE/))l="360";else if((i=e.match(/SE\s([\d.]*)/))||f&&"SEVersion"in f)l="sougou",p=j(i[1])||.1;else if((i=e.match(/Maxthon(?:\/)+([\d.]*)/))&&f){l="maxthon";try{p=j(f.max_version||i[1])}catch(e){p=.1}}else A&&S?l="360se":A||S||!/Gecko\)\s+Chrome/.test(b)||E.opera||E.trident||(l="360ee")}return(i=e.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/))?(l="tt",p=j(i[2])||.1):(i=e.match(/LBBROWSER/))||f&&"LiebaoGetVersion"in f?l="liebao":(i=e.match(/TheWorld/))?(l="theworld",p=3):(i=e.match(/TaoBrowser\/([\d.]*)/))&&(l="taobao",p=j(i[1])||.1),E.os=a,E.core=E.core||g,E.shell=_,E.ieMode=E.ie&&r.documentMode||E.ie,E.extraName=l,E.extraVersion=p,E.resolution=o.screen.width+"x"+o.screen.height,E},F="BackCompat"===r.compatMode?r.body:r.documentElement,W=h.protocol,q=(new Date).getTime(),K=0,J=function(e){this.config=e};J.prototype={startup:function(){var e=this;"complete"===document.readyState?C.shouldBindMonitor&&e.bindMonitor():L(function(){C.shouldBindMonitor&&e.bindMonitor()})},collectPerformanceTiming:function(){var e=_.timing,t={};if(!e)return t;var n,a,r,i={navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rds",redirectEnd:"rde",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcles",domContentLoadedEventEnd:"dclee",domComplete:"dc",loadEventStart:"les",loadEventEnd:"lee"},s=e.navigationStart;for(n in e)a=e[n],r=i[n],r&&(0===a||void 0===a?t[r]="na":"number"==typeof a&&(t[r]=a-s));var u,c;return"number"==typeof e.msFirstPaint?u=e.msFirstPaint:o.chrome&&o.chrome.loadTimes(c=o.chrome.loadTimes().firstPaintTime)&&(u=Math.ceil(1e3*c)),"number"==typeof u?u-=s:u="na",t.fp=u,t},collectResourceTiming:function(){if(!("performance"in o&&"getEntriesByType"in _&&_.getEntriesByType("resource")instanceof Array))return[];var e=[],t=_.getEntriesByType("resource"),n=function(e){return void 0===e||0===e?0:Math.floor(e)};for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];r.initiatorType&&e.push({rs:n(r.redirectStart),re:n(r.redirectEnd),fs:n(r.fetchStart),st:n(r.startTime),dls:n(r.domainLookupStart),dle:n(r.domainLookupEnd),cs:n(r.connectStart),ce:n(r.connectEnd),scs:n(r.secureConnectionStart),resqs:n(r.requestStart),resps:n(r.responseStart),respe:n(r.responseEnd),restype:r.initiatorType,n:r.name})}return e},sendPV:function(){var t=this;if(!this.initialized){var n,a,o,r,i,s,u,c,l,p,f,d,g,_=1;try{n=H(w),a=n.os,o=n.shell,r=n.core,i=n.resolution,s=n.extraName,u=n.extraVersion,c=a?a+(n[a]?n[a]:""):"",l=o?o+parseInt(n[o]):"",p=r,f=i,d=s?s+(u?parseInt(u):""):""}catch(e){}var h={p:_,o:B(c),b:B(l),w:B(p),s:f,mx:d};"https:"===W&&(h.isps=1),(g=e().trid)&&(h.trid=g),setTimeout(function(){var e,n,a=t.collectPerformanceTiming();for(e in a)a.hasOwnProperty(e)&&(n=a[e],h[e]||(h[e]=n));t.initialized=!0,t.sendData(h,!0)},0)}},bindMonitor:function(){var e=this,t=!!r.attachEvent,n=t?"attachEvent":"addEventListener";r[n]((t?"on":"")+"mousedown",function(t){t=t||o.event;var n=t.target||t.srcElement;n&&e.mousedown(n,t)},!1)},mousedown:function(e,t){var n,a=e.tagName,o={type:1};if(!a||"HTML"!==a){"A"!==a&&"AREA"!==a||(n=e.getAttribute("href",2)||"",o.href=n);var r=D(e,t,this.config.layout);o.xpath=U(e),o.x=r.x,o.y=r.y,o.ex=r.ex,o.ey=r.ey,o.sw=r.sw,o.ew=e.offsetWidth,o.eh=e.offsetHeight,o.t=(new Date).getTime()-q,o.n=++K,E&&T&&(o.so=encodeURIComponent(T)),this.sendData(o)}},sendData:function(e,t){var n="$$_hotpoint";const a=Math.ceil(1e3*Math.random());var o=window.aplus_queue||(window.aplus_queue=[]);t?o.push({action:"aplus.sendPV",arguments:[{is_auto:!0},e]}):a<1e3*x.RATE.RESOURCE_TIMING&&A&&o.push({action:"aplus.record",arguments:[n,"CLK",i({is_auto:1},e),"POST"]})}},N()&&(C.shouldBindMonitor=!0);var z=_.setResourceTimingBufferSize||_.webkitSetResourceTimingBufferSize;z&&z.call(_,200),o._ap_xwj_heat={version:f};var Y=new J(C);Y.startup()}}var o=window,r=document,i=n(16);e.exports=function(){try{a()}catch(t){var e=window.aplus_queue||(window.aplus_queue=[]);e.push({action:"aplus._aplus_cplugin_m.do_tracker_jserror",arguments:[{message:"headmapall",error:encodeURIComponent(t.stack),filename:"aplus_xwj_plugin"}]})}}},function(e,t,n){"use strict";e.exports=function(){return{run:function(){n(131)()}}}},function(e,t,n){"use strict";var a=n(3),o=n(68),r=n(12);const i="hidden";e.exports=function(){o.on(window,"unload",function(){try{document.visibilityState===i&&window.sessionStorage.removeItem(a.START_ID);var e=window.aplus_queue||(window.aplus_queue=[]);e.push({action:"aplus.record",arguments:[a.PAGE_LEAVE,"OTHER",{}]})}catch(e){r().w("send browser close evnet failed")}})}},function(e,t,n){"use strict";e.exports=function(e){try{var t=window,a="g_tb_aplus_loaded";if(t[a])return;t[a]=1,n(133).isDebugAplus();var o=n(12),r=n(45),i=n(15),s=n(8),u=n(134),c="running",l=["aplusReady",c];r.doPubMsg(l),u.run({plugins:e.plugins,context:function(){var t={PAGE_LOAD_TIME:new Date},n=[];return s(e.plugins,function(e){t[e.name]=e.config||{},"aplus_log_inject"===e.name&&e.config&&e.config.plugins&&(n=e.config.plugins.pv,s(n,function(e){t[e.name]=e.config}))}),i.assign(t,{aplus_config:e})}},function(){o().v("APLUS INIT SUCCESS")})}catch(e){}}},function(e,t,n){"use strict";var a,o=n(2),r=n(12);t.isDebugAplus=function(e){if("boolean"==typeof a)return a;if("boolean"==typeof e&&(a=e),localStorage&&location){var t=location.href.match(/aplusDebug=(true|false)/);t&&t.length>0&&localStorage.setItem("aplusDebug",t[1]),a="true"===localStorage.getItem("aplusDebug")}else a=!1;return o.setGoldlogVal("aplusDebug",a),a&&r().setDebug(a),a}},function(e,t,n){"use strict";var a=n(109),o=n(25),r=n(45);t.run=function(e,t){var n=new a;n.run({plugins:e.plugins,context:e.context},{config:{},userdata:{},pubsubType:"aplusinit",messageFnQueue:[],middlewareMessageKey:"mw_change_aplusinit"
},function(e){var n=["aplusInitContext",e];r.doPubMsg(n),r.doCachePubs(n),o(t)&&t(e)})}}]);